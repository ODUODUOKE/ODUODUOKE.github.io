<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Think Note</title>
  
  
  <link href="https://blog.wo0ow.com/rss.xml" rel="self"/>
  
  <link href="https://blog.wo0ow.com/"/>
  <updated>2025-12-11T15:25:01.197Z</updated>
  <id>https://blog.wo0ow.com/</id>
  
  <author>
    <name>MUMU</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo主题butterfly美化</title>
    <link href="https://blog.wo0ow.com/27245.html"/>
    <id>https://blog.wo0ow.com/27245.html</id>
    <published>2025-12-11T15:23:15.000Z</published>
    <updated>2025-12-11T15:25:01.197Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://zhuanlan.zhihu.com/p/1917720956052415056">Hexo-butterfly文章顶部添加波浪效果</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/1917720956052415056&quot;&gt;Hexo-butterfly文章顶部添加波浪效果&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>莔记工具箱 | 倒数纪念日Lite</title>
    <link href="https://blog.wo0ow.com/24950.html"/>
    <id>https://blog.wo0ow.com/24950.html</id>
    <published>2025-12-07T14:15:35.000Z</published>
    <updated>2025-12-12T12:40:17.507Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>小程序码放页面底部，可直接扫码体验</p></blockquote><p><code>由于小程序目前版本迭代中，图片预览可能和最新小程序版本不一致！</code></p><hr><h2 id="碎碎念"><a href="#碎碎念" class="headerlink" title="碎碎念"></a>碎碎念</h2><p>使用 Ai 编程工具，半自动的开发了一款微信小程序，之前叫“莔记工具箱-XX日”</p><p>由于被投诉昵称侵权，目前已改 <strong>莔记工具箱 I 倒数纪念日Lite</strong> ，微信小程序搜索 <strong>倒数纪念</strong> 应该是能看得到。</p><p>最开始觉得应该只是一个小应用，没想到越开始做越发现东西越多。。。</p><p>小程序无广，因为个人也比较反感这个弹窗广告营销方式。最好的打算就是后期如果用户有一部分愿意成为付费用户+自己出一部分，能把服务器费用包括就行。</p><h2 id="小程序简述"><a href="#小程序简述" class="headerlink" title="小程序简述"></a>小程序简述</h2><hr><h3 id="V-2-0-27"><a href="#V-2-0-27" class="headerlink" title="V 2.0.27"></a>V 2.0.27</h3><p>目前已经迭代<code>.27</code>小版本号了，修修改改不少小问题了。 </p><p>看后续使用情况，在计划下一步的开发功能；</p><p>目前 主要已添加TODO待办事项板块，风格采用的和倒数日首页一致版式（主要是我懒，我也不知道咋设计）</p><blockquote><p>无图，可自行扫码体验！</p></blockquote><hr><h3 id="V-2-0-19"><a href="#V-2-0-19" class="headerlink" title="V 2.0.19"></a>V 2.0.19</h3><p>版本号 2.0.19<br>添加新用户引导界面<br>添加详情预览界面<br>支持自定义背景图片<br>优化一些功能（又产生一些新的问题…）</p><p><img src="/24950/show02.png"></p><p>引导界面图一-图四、详情预览界面图五</p><hr><h3 id="V-2-0-0"><a href="#V-2-0-0" class="headerlink" title="V 2.0.0"></a>V 2.0.0</h3><p>版本号（忘记当时是多少了，就算2.0.0版本吧）</p><p>目前到现在这个版本我觉得已经够用了，满足我基本的要求了。如果没有其他情况，应该就保持当前这个版本很长一段时间。</p><p>哈哈，我又升级了下小程序首页UI，感觉又好看一点点了。</p><p>补充：对于愿意安装独立APP软件的，可以尝试安装倒数日、时间卡等相关的APP应用，可提供更好的体验。</p><p><img src="/24950/show.png"></p><h2 id="小程序二维码"><a href="#小程序二维码" class="headerlink" title="小程序二维码"></a>小程序二维码</h2><p><img src="/24950/qrcode.jpg"></p>]]></content>
    
    
    <summary type="html">Ai辅助编程开发，欢迎扫码体验！无广、纯净！</summary>
    
    
    
    <category term="微信小程序" scheme="https://blog.wo0ow.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>WSL中安装Ubuntu并启用远程连接</title>
    <link href="https://blog.wo0ow.com/25044.html"/>
    <id>https://blog.wo0ow.com/25044.html</id>
    <published>2025-08-11T01:58:40.000Z</published>
    <updated>2025-12-11T15:02:22.778Z</updated>
    
    <content type="html"><![CDATA[<p>参考博客</p><p><a href="https://www.jianshu.com/p/4676de988f49">WSL2 安装 GUI，并使用 XRDP实现连接（内含汉化操作)</a></p><h2 id="Ubuntu换阿里云源"><a href="#Ubuntu换阿里云源" class="headerlink" title="Ubuntu换阿里云源"></a>Ubuntu换阿里云源</h2><p>备份系统源</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp /etc/apt/sources.list /etc/apt/sources.list.backup</span><br></pre></td></tr></table></figure><p>清空源</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; /etc/apt/sources.list</span><br></pre></td></tr></table></figure><p>添加阿里云源</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><p>刷新应用源</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>升级操作</p><blockquote><p>注意:应当按需操作</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#sudo apt upgrade</span><br></pre></td></tr></table></figure><h2 id="XRDP安装与配置"><a href="#XRDP安装与配置" class="headerlink" title="XRDP安装与配置"></a>XRDP安装与配置</h2><p>安装xrdp</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install xrdp </span><br></pre></td></tr></table></figure><p>备份配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo cp /etc/xrdp/xrdp.ini /etc/xrdp/xrdp.ini.backup</span><br></pre></td></tr></table></figure><p>修改xrdp配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## 修改 xrdp 的远程连接端口为3390 (原3389是win默认的远程端口,避免和本机远程访问冲突)</span><br><span class="line">sudo sed -i &#x27;s/3389/3390/g&#x27; /etc/xrdp/xrdp.ini </span><br><span class="line">## 修改 位/像素（bpp） </span><br><span class="line">sudo sed -i &#x27;s/max_bpp=32/#max_bpp=32\nmax_bpp=128/g&#x27; /etc/xrdp/xrdp.ini </span><br><span class="line">sudo sed -i &#x27;s/xserverbpp=24/#xserverbpp=24\nxserverbpp=128/g&#x27; /etc/xrdp/xrdp.ini </span><br></pre></td></tr></table></figure><h2 id="XFCE4安装与配置"><a href="#XFCE4安装与配置" class="headerlink" title="XFCE4安装与配置"></a>XFCE4安装与配置</h2><p>安装xfce4及拓展组件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install -y xfce4 xfce4-goodies</span><br></pre></td></tr></table></figure><p>指定 x windows system 启动使用我们安装的 xfce4</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo xfce4-session &gt; ~/.xsession</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 修改 xrdp 的窗口管理器的启动脚本 </span><br><span class="line">sudo vim /etc/xrdp/startwm.sh</span><br><span class="line"></span><br><span class="line">## 注释掉最后两行（test 和 exec 开头）</span><br><span class="line">#test -x /etc/X11/Xsession &amp;&amp; exec /etc/X11/Xsession </span><br><span class="line">#exec /bin/sh /etc/X11/Xsession</span><br></pre></td></tr></table></figure><p>脚本顶部及底部添加</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## 顶部添加,防止xrdp连接闪退</span><br><span class="line">unset DBUS_SESSION_BUS_ADDRESS</span><br><span class="line">unset XDG_RUNTIME_DIR</span><br><span class="line">$HOME/.profile</span><br><span class="line"></span><br><span class="line">// ...</span><br><span class="line"></span><br><span class="line">## 底部添加,启动xfce4</span><br><span class="line">startxfce4</span><br></pre></td></tr></table></figure><p>完整配置文件示例参考(修改后)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"># xrdp X session start script (c) 2015, 2017 mirabilos</span><br><span class="line"># published under The MirOS Licence</span><br><span class="line"></span><br><span class="line">## 防止连接xrdp,输入账号密码后闪退</span><br><span class="line">unset DBUS_SESSION_BUS_ADDRESS</span><br><span class="line">unset XDG_RUNTIME_DIR</span><br><span class="line">$HOME/.profile</span><br><span class="line"></span><br><span class="line">if test -r /etc/profile; then</span><br><span class="line">        . /etc/profile</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test -r /etc/default/locale; then</span><br><span class="line">        . /etc/default/locale</span><br><span class="line">        test -z &quot;$&#123;LANG+x&#125;&quot; || export LANG</span><br><span class="line">        test -z &quot;$&#123;LANGUAGE+x&#125;&quot; || export LANGUAGE</span><br><span class="line">        test -z &quot;$&#123;LC_ADDRESS+x&#125;&quot; || export LC_ADDRESS</span><br><span class="line">        test -z &quot;$&#123;LC_ALL+x&#125;&quot; || export LC_ALL</span><br><span class="line">        test -z &quot;$&#123;LC_COLLATE+x&#125;&quot; || export LC_COLLATE</span><br><span class="line">        test -z &quot;$&#123;LC_CTYPE+x&#125;&quot; || export LC_CTYPE</span><br><span class="line">        test -z &quot;$&#123;LC_IDENTIFICATION+x&#125;&quot; || export LC_IDENTIFICATION</span><br><span class="line">        test -z &quot;$&#123;LC_MEASUREMENT+x&#125;&quot; || export LC_MEASUREMENT</span><br><span class="line">        test -z &quot;$&#123;LC_MESSAGES+x&#125;&quot; || export LC_MESSAGES</span><br><span class="line">        test -z &quot;$&#123;LC_MONETARY+x&#125;&quot; || export LC_MONETARY</span><br><span class="line">        test -z &quot;$&#123;LC_NAME+x&#125;&quot; || export LC_NAME</span><br><span class="line">        test -z &quot;$&#123;LC_NUMERIC+x&#125;&quot; || export LC_NUMERIC</span><br><span class="line">        test -z &quot;$&#123;LC_PAPER+x&#125;&quot; || export LC_PAPER</span><br><span class="line">        test -z &quot;$&#123;LC_TELEPHONE+x&#125;&quot; || export LC_TELEPHONE</span><br><span class="line">        test -z &quot;$&#123;LC_TIME+x&#125;&quot; || export LC_TIME</span><br><span class="line">        test -z &quot;$&#123;LOCPATH+x&#125;&quot; || export LOCPATH</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test -r /etc/profile; then</span><br><span class="line">        . /etc/profile</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">## 注释当前两行</span><br><span class="line">#test -x /etc/X11/Xsession &amp;&amp; exec /etc/X11/Xsession</span><br><span class="line">#exec /bin/sh /etc/X11/Xsession</span><br><span class="line"></span><br><span class="line">## 添加命令</span><br><span class="line">startxfce4</span><br></pre></td></tr></table></figure><p>启动Xrdp服务</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo /etc/init.d/xrdp start </span><br><span class="line">## 或</span><br><span class="line">systemctl start xrdp</span><br></pre></td></tr></table></figure><p>开机启动xrdp</p><blockquote><p>电脑下依然先执行<code>wsl</code>启动<code>ubuntu</code>才可以</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl enable xrdp</span><br></pre></td></tr></table></figure><hr><h2 id="汉化"><a href="#汉化" class="headerlink" title="汉化"></a>汉化</h2><blockquote><p>参考博客进行汉化,没有成功. 后续在研究!</p></blockquote><p>安装基本的字体文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt-get install fonts-arphic-ukai fonts-arphic-uming fonts-ipafont-mincho fonts-ipafont-gothic fonts-unfonts-core</span><br></pre></td></tr></table></figure><p>安装语言包等组件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt-get install language-pack-zh* </span><br><span class="line">sudo apt-get install chinese*</span><br><span class="line">sudo apt-get install language-selector-common </span><br></pre></td></tr></table></figure><p>设置系统默认语言</p><blockquote><p>提示local未安装,则:<code>sudo apt install locales -y</code></p></blockquote><p>可参考当前博客配置中文<br><a href="https://cloudbool.com/archive/dpkg-reconfigure-locales.html">dpkg–reconfigure locales命令问题</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#sudo dpkg-reconfigure local es </span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考博客&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/4676de988f49&quot;&gt;WSL2 安装 GUI，并使用 XRDP实现连接（内含汉化操作)&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Ubuntu换阿里云源&quot;&gt;&lt;a href=&quot;#Ubun</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux下压力测试Stress工具</title>
    <link href="https://blog.wo0ow.com/45232.html"/>
    <id>https://blog.wo0ow.com/45232.html</id>
    <published>2025-08-05T01:24:00.000Z</published>
    <updated>2025-12-11T15:02:22.754Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CPU及内存压力测试"><a href="#CPU及内存压力测试" class="headerlink" title="CPU及内存压力测试"></a>CPU及内存压力测试</h2><p>ubuntu下安装stress</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install stress</span><br><span class="line">stress --version</span><br></pre></td></tr></table></figure><p>cron定时任务配置</p><blockquote><p>每5分钟执行一次，仅在05-21点之间执行。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*/10 5-21 * * * CRON_RANDOM_DELAY=1 /root/stress/stress.sh &gt;&gt; /var/log/stress_test.log 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p><code>stress.sh</code>脚本</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 获取当前时间戳</span><br><span class="line">START_TIME=$(date +&quot;%Y-%m-%d %H:%M:%S&quot;)</span><br><span class="line">START_SEC=$(date +%s)</span><br><span class="line"></span><br><span class="line">echo &quot;=============================================&quot;</span><br><span class="line">echo &quot;压力测试开始时间: $START_TIME&quot;</span><br><span class="line">echo &quot;---------------------------------------------&quot;</span><br><span class="line"></span><br><span class="line"># 检查是否已有实例在运行</span><br><span class="line">if [ -f &quot;$LOCK_FILE&quot; ]; then</span><br><span class="line">    echo &quot;检测到已有实例正在运行，正在终止其他stress进程...&quot;</span><br><span class="line">    rm -f &quot;$LOCK_FILE&quot;</span><br><span class="line">    pkill -9 stress &amp;&gt;/dev/null</span><br><span class="line">    # 等待确保进程完全终止</span><br><span class="line">    sleep 2</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># 锁文件路径</span><br><span class="line">LOCK_FILE=&quot;/tmp/stress_test.lock&quot;</span><br><span class="line"># 创建锁文件</span><br><span class="line">touch &quot;$LOCK_FILE&quot;</span><br><span class="line"># 监听-程序异常退出，执行rm -r锁文件</span><br><span class="line">trap &#x27;rm -f &quot;$LOCK_FILE&quot;; exit&#x27; EXIT INT TERM</span><br><span class="line"></span><br><span class="line"># 如果是通过cron调用，计算并显示随机延迟时间</span><br><span class="line">if [[ -n &quot;$CRON_RANDOM_DELAY&quot; ]]; then</span><br><span class="line">    RANDOM_DELAY=$((RANDOM % 100))</span><br><span class="line">    echo &quot;检测到通过cron调用，随机延迟: $RANDOM_DELAY 秒&quot;</span><br><span class="line">    sleep $RANDOM_DELAY</span><br><span class="line">    echo &quot;随机延迟等待完成，继续执行...&quot;</span><br><span class="line">    echo &quot;---------------------------------------------&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># 动态获取系统资源</span><br><span class="line">CPU_CORES=$(nproc)</span><br><span class="line">TOTAL_MEM=$(free -m | awk &#x27;/Mem:/ &#123;print $2&#125;&#x27;)</span><br><span class="line"></span><br><span class="line"># 设置资源占用参数（可调整比例）</span><br><span class="line">CPU_PERCENT=50  # CPU占用百分比</span><br><span class="line">MEM_PERCENT=20  # 内存占用百分比</span><br><span class="line"></span><br><span class="line"># 计算实际占用值</span><br><span class="line">STRESS_CPU=$(( CPU_CORES * CPU_PERCENT / 100 ))</span><br><span class="line">STRESS_CPU=$(( STRESS_CPU &gt; 0 ? STRESS_CPU : 1 ))</span><br><span class="line">STRESS_MEM=$(( TOTAL_MEM * MEM_PERCENT / 100 ))</span><br><span class="line">STRESS_MEM=&quot;$&#123;STRESS_MEM&#125;M&quot;</span><br><span class="line">#超时时间，5分钟</span><br><span class="line">STRESS_TIMEOUT=&quot;300s&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;系统检测结果:&quot;</span><br><span class="line">echo &quot;  CPU核心数: $CPU_CORES&quot;</span><br><span class="line">echo &quot;  总内存: $&#123;TOTAL_MEM&#125;MB&quot;</span><br><span class="line">echo &quot;资源占用设置:&quot;</span><br><span class="line">echo &quot;  CPU占用: $CPU_PERCENT% (使用 $STRESS_CPU 个核心)&quot;</span><br><span class="line">echo &quot;  内存占用: $MEM_PERCENT% (分配 $STRESS_MEM)&quot;</span><br><span class="line">echo &quot;---------------------------------------------&quot;</span><br><span class="line"></span><br><span class="line"># 运行压力测试</span><br><span class="line">echo &quot;开始压力测试...&quot;</span><br><span class="line">stress \</span><br><span class="line">    --cpu $STRESS_CPU \</span><br><span class="line">    --vm 1 \</span><br><span class="line">    --vm-bytes $STRESS_MEM \</span><br><span class="line">    --timeout $STRESS_TIMEOUT</span><br><span class="line"></span><br><span class="line"># 记录结束状态</span><br><span class="line">END_TIME=$(date +&quot;%Y-%m-%d %H:%M:%S&quot;)</span><br><span class="line">END_SEC=$(date +%s)</span><br><span class="line">DURATION=$(( END_SEC - START_SEC ))</span><br><span class="line"></span><br><span class="line">echo &quot;---------------------------------------------&quot;</span><br><span class="line">echo &quot;压力测试完成！&quot;</span><br><span class="line">echo &quot;结束时间: $END_TIME&quot;</span><br><span class="line">echo &quot;总运行时长: $DURATION 秒&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;=============================================&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>打印stress进程</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pgrep stress</span><br></pre></td></tr></table></figure><h2 id="磁盘空间压力测试"><a href="#磁盘空间压力测试" class="headerlink" title="磁盘空间压力测试"></a>磁盘空间压力测试</h2><blockquote><p><code>stress</code>也可以临时创建磁盘空间，进程结束后释放。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">stress --hdd 2 --hdd-bytes 1G  # 创建2个1GB的临时文件</span><br></pre></td></tr></table></figure><hr><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dd if=/dev/zero of=testfile bs=1G count=20</span><br></pre></td></tr></table></figure><p><code>if=/dev/zero</code>:输入源（无限零字节流）</p><p><code>of=testfile</code>:输出文件名</p><p><code>bs=1M</code>:每次写入 1M （bs&#x3D;1G：每次写入 1GB）</p><p><code>count=512</code>:总共写入 512 次</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;CPU及内存压力测试&quot;&gt;&lt;a href=&quot;#CPU及内存压力测试&quot; class=&quot;headerlink&quot; title=&quot;CPU及内存压力测试&quot;&gt;&lt;/a&gt;CPU及内存压力测试&lt;/h2&gt;&lt;p&gt;ubuntu下安装stress&lt;/p&gt;
&lt;figure class=&quot;hig</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux配置Git访问</title>
    <link href="https://blog.wo0ow.com/1.html"/>
    <id>https://blog.wo0ow.com/1.html</id>
    <published>2025-08-01T09:32:03.000Z</published>
    <updated>2025-12-11T15:02:22.752Z</updated>
    
    <content type="html"><![CDATA[<p>生成ssh-key密钥对(公钥\私钥)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@xx.com&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@root .ssh]# ssh-keygen -t rsa -C &quot;your_email@xx.com&quot;</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/root/.ssh/id_rsa):  # 确认密钥保存路径</span><br><span class="line">Enter passphrase (empty for no passphrase):  # 确认是否设置私钥密码</span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved in /root/.ssh/id_rsa. # 打印私钥保存路径</span><br><span class="line">Your public key has been saved in /root/.ssh/id_rsa.pub. # 打印公钥保存路径</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:NiKv4PVQgJJKntMePht9Ow6GPC3WEBDT/Q867KSkJK4 your_email@xx.com # 密钥指纹</span><br><span class="line">The key&#x27;s randomart image is:</span><br><span class="line">+---[RSA 2048]----+</span><br><span class="line">| +o .            |</span><br><span class="line">| .oo .           |</span><br><span class="line">|o.... .          |</span><br><span class="line">|+.o .. o         |</span><br><span class="line">|.+ +o + S        |</span><br><span class="line">|..=.BO o o       |</span><br><span class="line">|+ +@**o.         |</span><br><span class="line">| +.+B=o..        |</span><br><span class="line">|E ... oo.        |</span><br><span class="line">+----[SHA256]-----+</span><br></pre></td></tr></table></figure><p>添加ssh-key私钥到  ssh-agent</p><blockquote><p>启动 SSH 代理</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@root .ssh]# eval &quot;$(ssh-agent -s)&quot;</span><br><span class="line">Agent pid 10433</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@root .ssh]# ssh-add ~/.ssh/id_rsa</span><br><span class="line">Enter passphrase for /root/.ssh/id_rsa: </span><br><span class="line">Identity added: /root/.ssh/id_rsa (/root/.ssh/id_rsa)</span><br></pre></td></tr></table></figure><p>查看当前 ssh-agent 中缓存的密钥</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-add -l</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@root .ssh]# ssh-add -l</span><br><span class="line">2048 SHA256:NiKv4PVQgJJKntMePht9Ow6GPC3WEBDT/Q867KSkJK4 /root/.ssh/id_rsa (RSA)</span><br></pre></td></tr></table></figure><p>复制公钥到github仓库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /root/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>验证访问仓库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@manman .ssh]# ssh -T git@github.com</span><br><span class="line">Hi xxxx! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><p>设置访问</p><blockquote><p>–local 当前目录下&#x2F;–global 全局</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --local/--global user.name &quot;&quot;</span><br><span class="line">git config --local/--global user.email &quot;&quot;</span><br></pre></td></tr></table></figure><hr><p>删除单个密钥</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-add -d ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;生成ssh-key密钥对(公钥&#92;私钥)&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ssh-keygen -t rsa -C &amp;quo</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>Dm数据库使用记录</title>
    <link href="https://blog.wo0ow.com/22.html"/>
    <id>https://blog.wo0ow.com/22.html</id>
    <published>2025-07-09T05:12:04.000Z</published>
    <updated>2025-12-11T15:02:22.516Z</updated>
    
    <content type="html"><![CDATA[<h2 id="DM数据库中使用语法与MySQL异同之处"><a href="#DM数据库中使用语法与MySQL异同之处" class="headerlink" title="DM数据库中使用语法与MySQL异同之处"></a>DM数据库中使用语法与MySQL异同之处</h2><h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3><p><a href="https://blog.csdn.net/Oraclesand/article/details/126870609">https://blog.csdn.net/Oraclesand/article/details/126870609</a></p><h3 id="group-concat"><a href="#group-concat" class="headerlink" title="group_concat"></a>group_concat</h3><p><a href="https://www.cnblogs.com/bugfdj/p/18547505">https://www.cnblogs.com/bugfdj/p/18547505</a></p><p><a href="https://www.cnblogs.com/yujin595/p/9829821.html">https://www.cnblogs.com/yujin595/p/9829821.html</a></p><h2 id="DM数据库中使用"><a href="#DM数据库中使用" class="headerlink" title="DM数据库中使用"></a>DM数据库中使用</h2><p><strong>在DM8数据库中<code>MERGE</code>的单条数据的插入&#x2F;更新使用示例：</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MERGE INTO &quot;T_CUSTOMER_INFO&quot; t1</span><br><span class="line">USING ( select #&#123;customer_id&#125; as customer_id , #&#123;name&#125; as name from dual  ) t2 </span><br><span class="line">ON    ( t1.customer_id = t2.customer_id and t1.TASK_ID IS NULL  )</span><br><span class="line">WHEN MATCHED THEN ## 存在匹配记录，更新操作</span><br><span class="line">UPDATE SET </span><br><span class="line">    t1.name = t2.name ## 注意：更新的value值是 `t2.name`</span><br><span class="line">WHEN NOT MATCHED THEN ## 不存在匹配记录，新增操作</span><br><span class="line">INSERT (</span><br><span class="line">        customer_id,</span><br><span class="line">        name</span><br><span class="line">    )</span><br><span class="line">    VALUES(</span><br><span class="line">        t2.customer_id, ## 注意：新增的value值取`t2`表的字段</span><br><span class="line">        t2.name</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p><strong>使用<code>foreach</code>语法，批量新增&#x2F;更新示例：</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- Mapper 接口：void batchUpsert(@Param(&quot;list&quot;) List&lt;Customer&gt; list); --&gt;</span><br><span class="line">&lt;insert id=&quot;batchUpsert&quot; parameterType=&quot;java.util.List&quot; databaseId=&quot;oracle&quot;&gt;</span><br><span class="line">MERGE INTO t_customer T</span><br><span class="line">USING (</span><br><span class="line">    &lt;foreach collection=&quot;list&quot; item=&quot;c&quot; separator=&quot;UNION ALL&quot;&gt;</span><br><span class="line">        SELECT #&#123;c.id&#125;        AS id,</span><br><span class="line">               #&#123;c.account&#125;   AS account,</span><br><span class="line">               #&#123;c.email&#125;     AS email,</span><br><span class="line">               #&#123;c.phone&#125;     AS phone,</span><br><span class="line">               #&#123;c.gender&#125;    AS gender,</span><br><span class="line">               #&#123;c.status&#125;    AS status,</span><br><span class="line">               #&#123;c.createTime&#125;AS create_time,</span><br><span class="line">               #&#123;c.updateTime&#125;AS update_time,</span><br><span class="line">               #&#123;c.BASIC_INFO&#125;AS BASIC_INFO,</span><br><span class="line">               #&#123;c.OIL_STATION_CODE&#125; AS OIL_STATION_CODE</span><br><span class="line">        FROM dual</span><br><span class="line">    &lt;/foreach&gt;</span><br><span class="line">) S</span><br><span class="line">ON (T.phone = S.phone)</span><br><span class="line">WHEN MATCHED THEN</span><br><span class="line">    UPDATE</span><br><span class="line">       SET T.update_time      = SYSTIMESTAMP,</span><br><span class="line">           T.OIL_STATION_CODE = S.OIL_STATION_CODE,</span><br><span class="line">           T.BASIC_INFO       = S.BASIC_INFO</span><br><span class="line">WHEN NOT MATCHED THEN</span><br><span class="line">    INSERT (id, account, email, phone, gender, status,</span><br><span class="line">            create_time, update_time, BASIC_INFO, OIL_STATION_CODE)</span><br><span class="line">    VALUES (S.id, S.account, S.email, S.phone, S.gender, S.status,</span><br><span class="line">            S.create_time, S.update_time, S.BASIC_INFO, S.OIL_STATION_CODE);</span><br><span class="line">&lt;/insert&gt;</span><br></pre></td></tr></table></figure><h2 id="其他问题记录"><a href="#其他问题记录" class="headerlink" title="其他问题记录"></a>其他问题记录</h2><h3 id="数据库中字段大写字母默认添加空格"><a href="#数据库中字段大写字母默认添加空格" class="headerlink" title="数据库中字段大写字母默认添加空格"></a>数据库中字段大写字母默认添加空格</h3><p> MySQL的某个数据库通过<code>DM数据库迁移工具</code>迁移到dm数据库，发现字段英文大写字母在DM数据库字段中默认添加一个空格</p><p>导致<code>ruoyi</code>项目的菜单查询有问题，子菜单不能正常展示。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;DM数据库中使用语法与MySQL异同之处&quot;&gt;&lt;a href=&quot;#DM数据库中使用语法与MySQL异同之处&quot; class=&quot;headerlink&quot; title=&quot;DM数据库中使用语法与MySQL异同之处&quot;&gt;&lt;/a&gt;DM数据库中使用语法与MySQL异同之处&lt;/h2&gt;&lt;</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>自建Vaultwarden开源密码管理系统</title>
    <link href="https://blog.wo0ow.com/21.html"/>
    <id>https://blog.wo0ow.com/21.html</id>
    <published>2025-07-07T13:28:13.000Z</published>
    <updated>2025-12-11T15:02:22.756Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>趁现在自己还记忆犹新，赶紧记录下搭建Vaultwarden的过程。</p></blockquote><p>安全加固措施</p><ul><li>用<code>MySQL</code>替换默认<code>SqLite</code>数据库，并配置<code>异地主从</code>数据库备份</li><li>在Nginx配置<code>location / &#123;return 403;&#125;</code>屏蔽WEB访问，只保留必要配置</li><li>启用<code>OpenVpn</code>+<code>SSL</code>自签证书</li></ul><h2 id="搭建开源Vaultwarden"><a href="#搭建开源Vaultwarden" class="headerlink" title="搭建开源Vaultwarden"></a>搭建开源Vaultwarden</h2><p>通过Docker容器安装</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">--rm \</span><br><span class="line">--name vaultwarden \</span><br><span class="line">-p 8787:80 \</span><br><span class="line">-p 3012:3012 \</span><br><span class="line">-v /home/docker/vaultwarden:/data \</span><br><span class="line">-e DATABASE_URL=mysql://user:password@127.0.0.1:8888/database \</span><br><span class="line">-e SIGNUPS_ALLOWED=false \</span><br><span class="line">-e WEBSOCKET_ENABLED=true \</span><br><span class="line">-e INVITATIONS_ALLOWED=false \</span><br><span class="line">-e ADMIN_TOKEN=your_admin_token \</span><br><span class="line">-e DOMAIN=https://your_url.com \</span><br><span class="line">vaultwarden/server:latest</span><br></pre></td></tr></table></figure><p><code>80</code> web访问端口</p><p><code>3012</code> webscoket端口</p><p><code>/home/docker/vaultwarden</code>建立目录用于容器外映射配置文件</p><ul><li><code>-d</code> 后台运行</li><li><code>--rm</code> 当容器停止时自动删除容器</li><li><code>-e DATABASE_URL</code> 配置数据源，默认SqLite（可选）</li><li><code>-e SIGNUPS_ALLOWED</code> 允许用户注册（首次用户注册后，删除容器，指定<code>SIGNUPS_ALLOWED=false</code>重新配置容器）</li><li><code>-e WEBSOCKET_ENABLED</code> 开启webscoket</li><li><code>-e INVITATIONS_ALLOWED</code> 允许邀请用户注册</li><li><code>-e ADMIN_TOKEN</code> 管理员令牌</li><li><code>-e DOMAIN</code> 配置访问域名（需要是<a href="https://xxx.com域名,不能配置ip地址)/">https://xxx.com域名，不能配置ip地址）</a>,</li></ul><h2 id="切换MySQL数据库"><a href="#切换MySQL数据库" class="headerlink" title="切换MySQL数据库"></a>切换MySQL数据库</h2><p>在docker配置容器命令添加：</p><blockquote><p>示例配置：<code>DATABASE_URL=mysql://[[user]:[password]@]host[:port][/database]</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 上述docker命令已包括</span><br><span class="line">-e DATABASE_URL=mysql://vaultwarden_user:strong_password@11.1.0.9:8888/vaultwarden </span><br></pre></td></tr></table></figure><h2 id="配置私有IP自签名证书"><a href="#配置私有IP自签名证书" class="headerlink" title="配置私有IP自签名证书"></a>配置私有IP自签名证书</h2><blockquote><p>注意：低版本的<code>openssl</code>执行会失败</p></blockquote><p><code>11.1.0.1</code>是我自签名SSL证书的的IP地址，执行命令得到：<code>ca.crt</code>证书、 <code>ca.key</code>密钥</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">openssl req -x509 -newkey rsa:2048 -sha256 -days 3650 -nodes \</span><br><span class="line">  -keyout ca.key -out ca.crt -subj &quot;/CN=11.1.0.1&quot; \</span><br><span class="line">  -addext &quot;subjectAltName=IP:11.1.0.1&quot;</span><br></pre></td></tr></table></figure><p>由于是使用的自签名证书，需要导入浏览器、安卓手机才能正常访问</p><h2 id="配置openVPN"><a href="#配置openVPN" class="headerlink" title="配置openVPN"></a>配置openVPN</h2><p>openvpn加固：</p><ul><li>ca.crt 根证书</li><li>x.crt 签发证书</li><li>x.key 签发证书密钥</li><li>用户名+密码</li></ul><h3 id="openvpn导入连接"><a href="#openvpn导入连接" class="headerlink" title="openvpn导入连接"></a>openvpn导入连接</h3><blockquote><p>在移动端导入openvpn配置，需要将<code>.ovpn</code>文件和依赖的根证书<code>ca.crt</code>、自签证书<code>.crt</code>、<code>.key</code>一并选择进行导入</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E8%87%AA%E5%BB%BAVaultwarden%E5%BC%80%E6%BA%90%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/Snipaste_2025-07-07_22-52-51.png"><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E8%87%AA%E5%BB%BAVaultwarden%E5%BC%80%E6%BA%90%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/Snipaste_2025-07-07_22-54-26.png"></p><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="安卓APP相关软件"><a href="#安卓APP相关软件" class="headerlink" title="安卓APP相关软件"></a>安卓APP相关软件</h3><p>安卓手机app软件(谷歌商店)</p><ul><li><code>OpenVpn Connect (3.7.1)</code> ：开启OpenVPN连接</li><li><code>Bitwarden (2025.06.1)</code>：密码管理软件</li><li><code>Bitwarden Authenticator （2025.6.0）</code> 密码管理软件-两步验证工具</li></ul><h3 id="手机导入自签名证书"><a href="#手机导入自签名证书" class="headerlink" title="手机导入自签名证书"></a>手机导入自签名证书</h3><blockquote><p><code>小米14</code>的证书安装路径如下：</p></blockquote><p>设置-&gt;隐私与安全-&gt;安全-&gt;更多安全设置-&gt;更多安全设置-&gt;加密与凭据-&gt;安装证书-&gt;CA证书</p><p>选择<code>自签名IP</code>的<code>ca.crt</code>证书安装到手机即可。</p><h3 id="Nginx配置"><a href="#Nginx配置" class="headerlink" title="Nginx配置"></a>Nginx配置</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen 8443 ssl;</span><br><span class="line">            # 监听ovpn地址</span><br><span class="line">        server_name 11.1.0.1;</span><br><span class="line">            # 自签名证书</span><br><span class="line">        ssl_certificate /usr/local/nginx/conf/cert/vpn/11.1.0.1.crt;</span><br><span class="line">    ssl_certificate_key /usr/local/nginx/conf/cert/vpn/11.1.0.1.key;</span><br><span class="line">        ssl_session_cache    shared:SSL:1m;</span><br><span class="line">        ssl_session_timeout  5m;</span><br><span class="line">        ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line">        ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">     # 仅允许openvpn下IP地址访问</span><br><span class="line"> allow 11.1.0.0/24;</span><br><span class="line">     deny all;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 屏蔽web端访问</span><br><span class="line">location /&#123;</span><br><span class="line">return 403;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 允许 API 访问（确保客户端仍能同步）</span><br><span class="line">location /api/ &#123; </span><br><span class="line">    proxy_pass http://127.0.0.1:8787; </span><br><span class="line">    proxy_set_header Host $host; </span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr; </span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; </span><br><span class="line">    proxy_set_header X-Forwarded-Proto $scheme; </span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"># 登录接口（web、pc、浏览器插件、app依赖）</span><br><span class="line">location /identity/ &#123;</span><br><span class="line">                proxy_pass http://127.0.0.1:8787;</span><br><span class="line">                proxy_set_header Host $host;</span><br><span class="line">                proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">                proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"># 允许 WebSocket（用于实时同步）</span><br><span class="line">location /notifications/hub &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:3012/notifications/hub;</span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"># 其他</span><br><span class="line">location /notifications/hub/negotiate &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:8787;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><hr><h2 id="启用MTLS双向认证"><a href="#启用MTLS双向认证" class="headerlink" title="启用MTLS双向认证"></a>启用MTLS双向认证</h2><p>配置双向认证后,在公网环境也可以</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E8%87%AA%E5%BB%BAVaultwarden%E5%BC%80%E6%BA%90%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/Snipaste_2025-07-22_19-58-45.png"></p><p>创建CA根证书（证书颁发机构）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 创建CA私钥</span><br><span class="line">openssl genrsa -out ca.key 2048</span><br><span class="line"></span><br><span class="line"># 创建CA根证书（有效期10年）</span><br><span class="line">openssl req -new -x509 -days 3650 -key ca.key -out ca.crt</span><br><span class="line"># 需要填写国家、组织等信息</span><br></pre></td></tr></table></figure><p>创建客户端证书</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 创建客户端私钥</span><br><span class="line">openssl genrsa -out client.key 2048</span><br><span class="line"></span><br><span class="line"># 创建证书签名请求(CSR)</span><br><span class="line">openssl req -new -key client.key -out client.csr</span><br><span class="line"># 需要填写与CA证书类似的信息</span><br><span class="line"></span><br><span class="line"># 使用CA签署客户端证书（有效期1年）</span><br><span class="line">openssl x509 -req -days 365 -in client.csr -CA ca.crt -CAkey ca.key -set_serial 01 -out client.crt</span><br><span class="line"></span><br><span class="line"># 将客户端证书转换为PKCS12格式（方便浏览器导入）</span><br><span class="line">openssl pkcs12 -export -clcerts -in client.crt -inkey client.key -out client.p12</span><br><span class="line"># 需要设置导出密码</span><br></pre></td></tr></table></figure><p>nginx配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen 9003 ssl;</span><br><span class="line">        server_name 11.1.0.9;</span><br><span class="line"></span><br><span class="line">        # 标准SSL配置</span><br><span class="line">        ssl_certificate      /usr/local/nginx/conf/cert/11.1.0.9/ca.crt;</span><br><span class="line">        ssl_certificate_key  /usr/local/nginx/conf/cert/11.1.0.9/ca.key;</span><br><span class="line">        ssl_session_cache    shared:SSL:1m;</span><br><span class="line">        ssl_session_timeout  5m;</span><br><span class="line">        #ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line"></span><br><span class="line">        # 启用客户端证书验证</span><br><span class="line">        ssl_client_certificate /usr/local/nginx/conf/cert/CA/ca.crt;</span><br><span class="line">        ssl_verify_client on;</span><br><span class="line">        ssl_verify_depth 2;</span><br><span class="line">        # 调整加密套件</span><br><span class="line">        ssl_ciphers &#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-CHACHA20-POLY1305&#x27;;</span><br><span class="line"></span><br><span class="line">        location /&#123;</span><br><span class="line">                root /usr/local/nginx/html/snowyweb/dist;</span><br><span class="line">                try_files $uri $uri/ /index.html;</span><br><span class="line">                index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;趁现在自己还记忆犹新，赶紧记录下搭建Vaultwarden的过程。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安全加固措施&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用&lt;code&gt;MySQL&lt;/code&gt;替换默认&lt;code&gt;SqLite&lt;/code&gt;数据库，并配置</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>MySQL主从数据库互换</title>
    <link href="https://blog.wo0ow.com/24.html"/>
    <id>https://blog.wo0ow.com/24.html</id>
    <published>2025-07-01T08:47:49.000Z</published>
    <updated>2025-12-11T15:02:22.517Z</updated>
    
    <content type="html"><![CDATA[<h1 id="验证主从同步状态"><a href="#验证主从同步状态" class="headerlink" title="验证主从同步状态"></a>验证主从同步状态</h1><p><code>原从库</code>执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show slave status \G;</span><br></pre></td></tr></table></figure><blockquote><p> <code>Slave_IO_Running: Yes</code> &amp;&amp;   <code>Slave_SQL_Running: Yes</code> 均为<code>yes</code>即正常同步状态</p></blockquote><h1 id="准备主从切换"><a href="#准备主从切换" class="headerlink" title="准备主从切换"></a>准备主从切换</h1><p>设置<code>原主库</code>为只读模式</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 全局读锁定（写操作阻塞，读操作正常）</span><br><span class="line">FLUSH TABLES WITH READ LOCK;</span><br><span class="line"># 设置只读模式</span><br><span class="line">SET GLOBAL read_only = ON;</span><br></pre></td></tr></table></figure><p>设置<code>原从库</code>停止复制</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">stop slave;</span><br></pre></td></tr></table></figure><p>重置<code>原从库</code>的复制信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">reset slave all;</span><br></pre></td></tr></table></figure><p>提升<code>原从库</code>为主库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET GLOBAL read_only = OFF;</span><br></pre></td></tr></table></figure><p><code>原主库</code>解除锁表</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">unlock tables;</span><br></pre></td></tr></table></figure><h2 id="配置原主库为从库"><a href="#配置原主库为从库" class="headerlink" title="配置原主库为从库"></a>配置原主库为从库</h2><p><code>原从库</code>配置slave用户</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GRANT REPLICATION SLAVE,REPLICATION CLIENT ON *.* TO &#x27;repl&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;GrantT^Slave130&#x27;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p><code>原从库</code>刷新日志并查询<code>Master主库(自己)</code>状态</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flush logs;</span><br><span class="line">SHOW MASTER STATUS;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+------------------+----------+--------------+------------------+</span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |</span><br><span class="line">+------------------+----------+--------------+------------------+</span><br><span class="line">| slave-bin.000007 |      107 |              |                  |</span><br><span class="line">+------------------+----------+--------------+------------------+</span><br></pre></td></tr></table></figure><p><code>原主库</code>指向<code>新主库</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHANGE MASTER TO</span><br><span class="line">MASTER_HOST=&#x27;192.168.209.131&#x27;,</span><br><span class="line">MASTER_USER=&#x27;repl&#x27;,</span><br><span class="line">MASTER_PASSWORD=&#x27;GrantT^Slave130&#x27;,</span><br><span class="line">MASTER_LOG_FILE=&#x27;slave-bin.000007&#x27;,</span><br><span class="line">MASTER_LOG_POS=107;</span><br></pre></td></tr></table></figure><p>启动复制</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">START SLAVE;</span><br></pre></td></tr></table></figure><p>验证复制状态</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW SLAVE STATUS\G</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;验证主从同步状态&quot;&gt;&lt;a href=&quot;#验证主从同步状态&quot; class=&quot;headerlink&quot; title=&quot;验证主从同步状态&quot;&gt;&lt;/a&gt;验证主从同步状态&lt;/h1&gt;&lt;p&gt;&lt;code&gt;原从库&lt;/code&gt;执行&lt;/p&gt;
&lt;figure class=&quot;highligh</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>MySQL主从数据库搭建</title>
    <link href="https://blog.wo0ow.com/16.html"/>
    <id>https://blog.wo0ow.com/16.html</id>
    <published>2025-06-25T01:54:51.000Z</published>
    <updated>2025-12-11T15:02:22.517Z</updated>
    
    <content type="html"><![CDATA[<p>参考博客：<a href="https://blog.wo0ow.com/mblog/32600.html">Docker搭建Mysql5.6配置主从数据库</a></p><p>修改<code>主-MySQL</code>数据库<code>my.cnf</code>配置文件</p><blockquote><p>暂时设置<code>只读</code>模式，防止通过SQL同步从库后又有新数据产生导致数据不一致问题</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">...</span><br><span class="line">innodb_force_recovery = 4</span><br></pre></td></tr></table></figure><p>同步mysql数据库，主从数据库数据需保持一致</p><ul><li>主MySQL：<code>192.168.209.130</code></li><li>从MySQL：<code>192.168.209.131</code></li></ul><p>导出<code>主-MySQL</code>数据库的数据SQL文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysqldump -h127.0.0.1 -uroot -p&#x27;123456&#x27; --socket=/var/lib/mysql/mysql.sock --all-databases --lock-all-tables &gt; /root/master_5.5_db.sql</span><br></pre></td></tr></table></figure><p>通过<code>scp</code>命令传递</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp master_5.5_db.sql root@192.168.209.131:/root</span><br></pre></td></tr></table></figure><p>在<code>从-MySQL</code>中执行导入<code>master_5.5_db.sql</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -uroot -p123456 -h127.0.0.1 &lt; master_5.5_db.sql</span><br></pre></td></tr></table></figure><p>修改<code>从-MySQL</code>数据库的<code>my.cnf</code>配置文件，添加<code>从库-Slave</code>配置信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[mysql]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">skip-name-resolve</span><br><span class="line">#设置3306端口</span><br><span class="line">port = 3306</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line"># 设置mysql的安装目录, 这里的目录一定要是你解压后并且改了名的目录哟..</span><br><span class="line">basedir=/tgdata/mysql-5.5.62</span><br><span class="line"># 设置mysql数据库的数据的存放目录, 这里的目录一定要是你解压后并且改了名的目录哟..</span><br><span class="line">datadir=/tgdata/mysql-5.5.62/data</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections=2000</span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server=utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line"># 大小写不敏感</span><br><span class="line">lower_case_table_name=1</span><br><span class="line"># 单个数据包的最大大小(一般：16M-64M,大数据/多媒体：256M-1GB)</span><br><span class="line">max_allowed_packet=16M</span><br><span class="line"># 开启独立表空间（不开启，则默认所有文件数据存ibdata1下，且删除表空间不释放！-&gt; mysql5.6.6及其后续版本默认开启）</span><br><span class="line">innodb_file_per_table=1</span><br><span class="line"></span><br><span class="line"># 从库日志</span><br><span class="line">log_bin = slave-bin</span><br><span class="line">server_id = 2</span><br><span class="line"># 中继日志文件名</span><br><span class="line">relay_log = slave-relay-bin</span><br><span class="line"># 从库执行中继日志中的事件后，会将这些事件写入自己的二进制日志（便于级联复制或数据恢复）</span><br><span class="line">log_slave_updates = 1</span><br><span class="line"># 只读模式（super权限账号可执行）</span><br><span class="line">read_only = 1</span><br><span class="line">#binlog过期清理时间</span><br><span class="line">expire_logs_days = 15 </span><br><span class="line">#binlog每个日志文件大小</span><br><span class="line">max_binlog_size = 500m </span><br><span class="line"></span><br><span class="line">binlog_format=mixed</span><br><span class="line"></span><br><span class="line"># 忽略同步表</span><br><span class="line">replicate_ignore_db=information_schema</span><br><span class="line">replicate_ignore_db=performance_schema</span><br><span class="line">replicate_ignore_db=mysql</span><br><span class="line">replicate_ignore_db=sys</span><br><span class="line">replicate_ignore_db=test</span><br><span class="line"></span><br><span class="line"># MySQL 8.0+ 支持</span><br><span class="line">#slave_parallel_workers=4    # 设置并行线程数，4 是推荐的并行线程数</span><br><span class="line">#slave_parallel_type=LOGICAL # 设置并行复制的类型为 LOGICAL</span><br><span class="line"></span><br><span class="line">#跳过错误（多个错误，用逗号分隔）</span><br><span class="line">## all：跳过所有错误（不推荐生产环境使用）</span><br><span class="line">## 1062 跳过主键冲突错误</span><br><span class="line">## 1146 表不存在</span><br><span class="line">#slave-skip-errors=1062</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置<code>主-MySQL</code>授权对<code>从-MySQL</code>的复制权限</p><blockquote><p>MySQL 5.7及以下</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GRANT REPLICATION SLAVE,REPLICATION CLIENT ON *.* TO &#x27;repl&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;GrantT^Slave130&#x27;;</span><br></pre></td></tr></table></figure><blockquote><p>MySQL 8.0+</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE USER &#x27;repl&#x27;@&#x27;192.168.1.%&#x27; IDENTIFIED BY &#x27;GrantT^Slave130&#x27;;</span><br><span class="line">GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO &#x27;repl&#x27;@&#x27;192.168.1.%&#x27;;</span><br></pre></td></tr></table></figure><p>检查权限赋予结果</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW GRANTS FOR &#x27;repl&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure><p>刷新日志文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flush logs;</span><br></pre></td></tr></table></figure><p>获取<code>主-MySQL</code>的bin-log日志及日志点位置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show master status;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+-------------------+----------+--------------+------------------+</span><br><span class="line">| File              | Position | Binlog_Do_DB | Binlog_Ignore_DB |</span><br><span class="line">+-------------------+----------+--------------+------------------+</span><br><span class="line">| master-bin.000008 |      107 |              |                  |</span><br><span class="line">+-------------------+----------+--------------+------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>配置<code>从-MySQL</code>数据库的复制操作</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHANGE MASTER TO MASTER_HOST=&#x27;192.168.209.130&#x27;,MASTER_USER=&#x27;repl&#x27;,MASTER_PASSWORD=&#x27;GrantT^Slave130&#x27;,MASTER_LOG_FILE=&#x27;master-bin.000008&#x27;,MASTER_LOG_POS=107;</span><br></pre></td></tr></table></figure><p>启动从库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; start slave</span><br></pre></td></tr></table></figure><p>查看主从同步状态</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show slave status \G;</span><br></pre></td></tr></table></figure><blockquote><p>关注从库信息：</p></blockquote><p><code>Slave_IO_Running: Yes</code>和<code>Slave_SQL_Running: Yes</code> ：表示主从同步状态正常<br><code>Seconds_Behind_Master</code>：表示主从数据库同步延迟（单位：秒）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; show slave status \G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Waiting for master to send event</span><br><span class="line">                  Master_Host: 192.168.209.130</span><br><span class="line">                  Master_User: repl</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 60</span><br><span class="line">              Master_Log_File: master-bin.000011</span><br><span class="line">          Read_Master_Log_Pos: 107</span><br><span class="line">               Relay_Log_File: slave-relay-bin.000002</span><br><span class="line">                Relay_Log_Pos: 254</span><br><span class="line">        Relay_Master_Log_File: master-bin.000011</span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">              Replicate_Do_DB:</span><br><span class="line">          Replicate_Ignore_DB: information_schema,performance_schema,mysql,sys,test</span><br><span class="line">           Replicate_Do_Table:</span><br><span class="line">       Replicate_Ignore_Table:</span><br><span class="line">      Replicate_Wild_Do_Table:</span><br><span class="line">  Replicate_Wild_Ignore_Table:</span><br><span class="line">                   Last_Errno: 0</span><br><span class="line">                   Last_Error:</span><br><span class="line">                 Skip_Counter: 0</span><br><span class="line">          Exec_Master_Log_Pos: 107</span><br><span class="line">              Relay_Log_Space: 410</span><br><span class="line">              Until_Condition: None</span><br><span class="line">               Until_Log_File:</span><br><span class="line">                Until_Log_Pos: 0</span><br><span class="line">           Master_SSL_Allowed: No</span><br><span class="line">           Master_SSL_CA_File:</span><br><span class="line">           Master_SSL_CA_Path:</span><br><span class="line">              Master_SSL_Cert:</span><br><span class="line">            Master_SSL_Cipher:</span><br><span class="line">               Master_SSL_Key:</span><br><span class="line">        Seconds_Behind_Master: 0</span><br><span class="line">Master_SSL_Verify_Server_Cert: No</span><br><span class="line">                Last_IO_Errno: 0</span><br><span class="line">                Last_IO_Error:</span><br><span class="line">               Last_SQL_Errno: 0</span><br><span class="line">               Last_SQL_Error:</span><br><span class="line">  Replicate_Ignore_Server_Ids:</span><br><span class="line">             Master_Server_Id: 1</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">ERROR:</span><br><span class="line">No query specified</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考博客：&lt;a href=&quot;https://blog.wo0ow.com/mblog/32600.html&quot;&gt;Docker搭建Mysql5.6配置主从数据库&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;修改&lt;code&gt;主-MySQL&lt;/code&gt;数据库&lt;code&gt;my.cnf&lt;/code&gt;配置文</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>解决在MySQL5.5.62下ibdata1文件过大问题</title>
    <link href="https://blog.wo0ow.com/15.html"/>
    <id>https://blog.wo0ow.com/15.html</id>
    <published>2025-06-24T09:51:02.000Z</published>
    <updated>2025-12-11T15:02:22.517Z</updated>
    
    <content type="html"><![CDATA[<p>参考博客：<a href="https://kn007.net/topics/how-to-reduce-shrink-ibdata1-in-mysql-56/">MySQL 5.6 如何给ibdata1瘦身</a></p><p>参考博客：<a href="https://www.jianshu.com/p/dd3440e834e2">mysql ibdata1文件过大解决方案</a></p><hr><p>问题记录：</p><p>在安装<code>MySQL 5.5.62</code>不了解其特性，未在<code>my.cnf</code>配置文件中指明<code>innodb_file_per_table=1</code>开启独立表空间，导致<code>ibdata1</code>文件在长期运行下体积过大！</p><h2 id="单实例MySQL"><a href="#单实例MySQL" class="headerlink" title="单实例MySQL"></a>单实例MySQL</h2><blockquote><p>生产环境的数据库操作，请先停止项目访问，如果大型应用则应发布停机公告。建议凌晨节点执行对用户影响最小！</p></blockquote><p>需要备份的数据库：<code>back_db_test</code></p><p>需要备份的表:<code>products</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `products` (</span><br><span class="line">  `name` varchar(255) COLLATE utf8_bin DEFAULT NULL,</span><br><span class="line">  `price` decimal(10,2) DEFAULT NULL,</span><br><span class="line">  `stock` varchar(255) COLLATE utf8_bin DEFAULT NULL</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;</span><br></pre></td></tr></table></figure><p>创建储存过程</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELIMITER //</span><br><span class="line">CREATE PROCEDURE generate_test_data(IN num_rows INT)</span><br><span class="line">BEGIN</span><br><span class="line">    DECLARE i INT DEFAULT 0;</span><br><span class="line">    WHILE i &lt; num_rows DO</span><br><span class="line">        INSERT INTO products (name, price, stock) </span><br><span class="line">        VALUES (CONCAT(&#x27;Product &#x27;, i), RAND() * 100, FLOOR(RAND() * 1000));</span><br><span class="line">        SET i = i + 1;</span><br><span class="line">    END WHILE;</span><br><span class="line">END //</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><p>执行储存过程,插入测试数据到表中</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#调用存储过程生成100条数据</span><br><span class="line">CALL generate_test_data(100);</span><br></pre></td></tr></table></figure><p><img src="/15/01.png"></p><p>停止<code>Nginx</code>中项目的访问</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">location /your_project/&#123;</span><br><span class="line">    return 403;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改<code>my.cnf</code>配置文件，设置<code>只读</code>模式，防止由于其他业务系统的写入导致后续备份SQL恢复过程中报错</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">...</span><br><span class="line">innodb_force_recovery = 4</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>导出需要备份的mysql文件</p><blockquote><p>执行后，当前目录会生成<code>all-dbs.sql</code>的文件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./mysql_dump_all_db.sh</span><br></pre></td></tr></table></figure><p>删除<code>infomation_schema</code>、<code>performance_schema</code>、<code>mysql</code>之外的其他数据库</p><p>停止mysql数据库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service mysqld stop;</span><br></pre></td></tr></table></figure><p>修改<code>my.cnf</code>配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#[mysqld]下增加下面配置 </span><br><span class="line">innodb_file_per_table=1</span><br></pre></td></tr></table></figure><p>删除<code>ibdata1</code>和<code>ib_logfile*</code>日志文件</p><blockquote><p>mysql数据目录:<code>/tgdata/mysql-5.5.62/data</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf ibdata1</span><br><span class="line">rm -rf ib_logfile*</span><br></pre></td></tr></table></figure><p>启动mysql数据库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service mysqld start;</span><br></pre></td></tr></table></figure><p>还原数据库备份文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -uroot -p&#x27;123456&#x27; &lt; all-dbs.sql</span><br></pre></td></tr></table></figure><h2 id="主从MySQL"><a href="#主从MySQL" class="headerlink" title="主从MySQL"></a>主从MySQL</h2><h2 id="附件"><a href="#附件" class="headerlink" title="附件"></a>附件</h2><p>shell脚本工具：<code>mysql_dump_all_db.sh</code></p><blockquote><p>默认排除mysql、information_schema和performance_schema这3个数据库</p></blockquote><p><code>--socket</code> 按<code>my.cnf</code>实际配置修改路径</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">MYSQL_USER=root</span><br><span class="line">MYSQL_PASS=rootpassword</span><br><span class="line">MYSQL_CONN=&quot;-u$&#123;MYSQL_USER&#125; -p$&#123;MYSQL_PASS&#125;&quot;</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># Collect all database names except for</span><br><span class="line"># mysql, information_schema, performance_schema and sys</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">SQL=&quot;SELECT schema_name FROM information_schema.schemata WHERE schema_name NOT IN&quot;</span><br><span class="line">SQL=&quot;$&#123;SQL&#125; (&#x27;mysql&#x27;,&#x27;information_schema&#x27;,&#x27;performance_schema&#x27;,&#x27;sys&#x27;,&#x27;temp&#x27;)&quot;</span><br><span class="line"></span><br><span class="line">DBLISTFILE=/tmp/DatabasesToDump.txt</span><br><span class="line">mysql $&#123;MYSQL_CONN&#125; -ANe&quot;$&#123;SQL&#125;&quot; &gt; $&#123;DBLISTFILE&#125;</span><br><span class="line"></span><br><span class="line">DBLIST=&quot;&quot;</span><br><span class="line">for DB in `cat $&#123;DBLISTFILE&#125;` ; do DBLIST=&quot;$&#123;DBLIST&#125; $&#123;DB&#125;&quot; ; done</span><br><span class="line"></span><br><span class="line">MYSQLDUMP_OPTIONS=&quot;--routines --triggers --lock-all-tables&quot;</span><br><span class="line">mysqldump --socket=/var/lib/mysql/mysql.sock $&#123;MYSQL_CONN&#125; $&#123;MYSQLDUMP_OPTIONS&#125; --databases $&#123;DBLIST&#125; &gt; all-dbs.sql</span><br><span class="line"></span><br><span class="line">exit</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考博客：&lt;a href=&quot;https://kn007.net/topics/how-to-reduce-shrink-ibdata1-in-mysql-56/&quot;&gt;MySQL 5.6 如何给ibdata1瘦身&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;参考博客：&lt;a href=&quot;https:/</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>MySQL5.5.62版本安装</title>
    <link href="https://blog.wo0ow.com/23.html"/>
    <id>https://blog.wo0ow.com/23.html</id>
    <published>2025-06-24T08:54:58.000Z</published>
    <updated>2025-12-11T15:02:22.516Z</updated>
    
    <content type="html"><![CDATA[<p>参考博客：<a href="https://blog.wo0ow.com/mblog/5089.html">Linux下部署Mysql5.6（非Docker方式）</a></p><hr><p>卸载自系统自带的<code>Mariadb</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rpm -qa|grep mariadb</span><br><span class="line"></span><br><span class="line">rpm -e --nodeps 文件名</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/23/01.png"></p><p>删除系统默认的<code>my.cnf</code>文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf /etc/my.cnf</span><br></pre></td></tr></table></figure><p>创建mysql用户和用户组</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupadd mysql</span><br><span class="line">useradd -g mysql mysql</span><br></pre></td></tr></table></figure><p>新建<code>my.cnf</code>配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[mysql]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8 </span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">skip-name-resolve</span><br><span class="line">#设置3306端口</span><br><span class="line">port = 3306 </span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line">basedir=/tgdata/mysql-5.5.62</span><br><span class="line"># 设置mysql数据库的数据的存放目录</span><br><span class="line">datadir=/tgdata/mysql-5.5.62/data</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections=2000</span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server=utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line"># 大小写不敏感</span><br><span class="line">lower_case_table_name=1</span><br><span class="line"></span><br><span class="line">max_allowed_packet=16M</span><br><span class="line"></span><br><span class="line"># 配置主从需要指定serverId</span><br><span class="line">server-id=1</span><br><span class="line"># log-bin文件前缀名</span><br><span class="line">log-bin=master-bin</span><br><span class="line"># 日志文件保存时间（单位：天） -&gt; 不设置会导致长期运行下日志文件占满磁盘空间</span><br><span class="line">expire_logs_days=7</span><br><span class="line"># 日志文件保存格式</span><br><span class="line">binlog-format=ROW</span><br><span class="line"></span><br><span class="line"># 开启独立表空间（不开启，则默认所有文件数据存ibdata1下，且删除表空间不释放！-&gt; mysql5.6.6及其后续版本默认开启）</span><br><span class="line">innodb_file_per_table=1</span><br></pre></td></tr></table></figure><p>创建相关文件目录</p><blockquote><p>因为在<code>my.cnf</code>配置文件中已指明当前路径地址，所以需要创建</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 创建目录</span><br><span class="line">mkdir /var/lib/mysql</span><br><span class="line">mkdir /var/lib/mysql/mysql</span><br><span class="line"># 赋予mysql用户权限</span><br><span class="line">chown -R mysql:mysql /var/lib/mysql</span><br><span class="line">chown -R mysql:mysql /var/lib/mysql/mysql</span><br></pre></td></tr></table></figure><blockquote><p>当前博客以<code>/tgdata</code>目录作mysql安装及数据目录</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir /tgdata</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /tgdata</span><br></pre></td></tr></table></figure><p>下载mysql安装文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.5.62-linux-glibc2.12-x86_64.tar.gz</span><br></pre></td></tr></table></figure><p>解压缩</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar -zxf mysql-5.5.62-linux-glibc2.12-x86_64.tar.gz</span><br></pre></td></tr></table></figure><p>重命名</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mv mysql-5.5.62-linux-glibc2.12-x86_64 mysql-5.5.62 </span><br><span class="line">cd mysql-5.5.62</span><br></pre></td></tr></table></figure><p>创建<code>data</code>数据目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir data </span><br></pre></td></tr></table></figure><p>赋予mysql用户当前目录下操作权限</p><blockquote><p>先创建<code>data</code>数据目录，在对<code>./</code>路径下所以目录赋权限给<code>mysql</code>用户</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chown -R mysql:mysql /tgdata/mysql-5.5.62</span><br></pre></td></tr></table></figure><p>初始化mysql数据库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./scripts/mysql_install_db --user=mysql --basedir=/tgdata/mysql-5.5.62/ --datadir=/tgdata/mysql-5.5.62/data/</span><br></pre></td></tr></table></figure><p>配置mysql系统服务</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp ./support-files/mysql.server /etc/rc.d/init.d/mysqld </span><br></pre></td></tr></table></figure><p>授予执行权限</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod +x /etc/rc.d/init.d/mysqld</span><br></pre></td></tr></table></figure><p>添加mysql到开机启动</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chkconfig --add mysqld</span><br></pre></td></tr></table></figure><p>验证mysql服务是否添加开机启动项中</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chkconfig --list mysqld</span><br></pre></td></tr></table></figure><p>配置mysql的环境变量配置</p><blockquote><p>不配置环境变量，无法直接在控制台执行<code>mysql</code>命令；例如:<code>mysql -uroot -p</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export PATH=$PATH:/tgdata/mysql-5.5.62/bin</span><br></pre></td></tr></table></figure><p>刷新环境变量</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><p>登录mysql</p><blockquote><p>mysql5.5.62 安装后默认是无密码的</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><p>修改mysql数据库root密码</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use mysql;</span><br><span class="line"> </span><br><span class="line">update user set authentication_string=password(&quot;123456&quot;) where user=&#x27;root&#x27;;</span><br><span class="line"># 或</span><br><span class="line">UPDATE user SET Password = PASSWORD(&#x27;123456&#x27;) WHERE user = &#x27;root&#x27;;</span><br></pre></td></tr></table></figure><p>允许mysql-root用户远程访问</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure><p>刷新权限</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flush privileges</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考博客：&lt;a href=&quot;https://blog.wo0ow.com/mblog/5089.html&quot;&gt;Linux下部署Mysql5.6（非Docker方式）&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;卸载自系统自带的&lt;code&gt;Mariadb&lt;/code&gt;&lt;/p&gt;
&lt;figur</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>重置Linux（centos）密码</title>
    <link href="https://blog.wo0ow.com/26.html"/>
    <id>https://blog.wo0ow.com/26.html</id>
    <published>2025-06-24T06:34:53.000Z</published>
    <updated>2025-12-11T15:02:22.752Z</updated>
    
    <content type="html"><![CDATA[<p>在登录界面按<code>e</code>进入编辑模式<br><img src="/26/01.png"></p><p>在位于<code>LANG=en_US.UTF-8</code>后，添加<code>init=/bin/sh</code>,并按<code>Ctrl+x</code>执行<br><img src="/26/02.png"></p><p>挂载命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mount -o rw,remount ./</span><br></pre></td></tr></table></figure><p><img src="/26/03.png"></p><p>重新设置密码</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">passwd root</span><br></pre></td></tr></table></figure><p><img src="/26/04.png"></p><p>修改<code>selinux</code>模式为<code>disable</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/sysconfig/selinux</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELINUX=disable</span><br></pre></td></tr></table></figure><p>重启系统</p><p><img src="/26/06.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在登录界面按&lt;code&gt;e&lt;/code&gt;进入编辑模式&lt;br&gt;&lt;img src=&quot;/26/01.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;在位于&lt;code&gt;LANG=en_US.UTF-8&lt;/code&gt;后，添加&lt;code&gt;init=/bin/sh&lt;/code&gt;,并按&lt;code&gt;Ctrl+x&lt;</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>Idea相关基础使用教程</title>
    <link href="https://blog.wo0ow.com/38938.html"/>
    <id>https://blog.wo0ow.com/38938.html</id>
    <published>2025-06-18T03:45:29.000Z</published>
    <updated>2025-12-11T15:02:22.750Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_47627102/article/details/122652790">参考博客</a></p><h2 id="Idea的代码注释设置"><a href="#Idea的代码注释设置" class="headerlink" title="Idea的代码注释设置"></a>Idea的代码注释设置</h2><blockquote><p>java代码</p></blockquote><ul><li><del><code>Line comment at first column</code> 从此行第一列开始</del></li><li><del><code>Block comment at first column</code> 在此行最后结束</del></li><li><code>Add a space at comment start</code> 在注释开始添加一个空格</li></ul><p><img src="/38938/ddc50aaa-76b9-4c38-9db2-a08b7a23d736.png"></p><blockquote><p>xml文件 (设置同上)</p></blockquote><p><img src="/38938/a2f59239-b9cb-42c6-a9af-875cae293f78.png"></p><h2 id="Mapper-xml文件中黄色语句下划线去除"><a href="#Mapper-xml文件中黄色语句下划线去除" class="headerlink" title="Mapper.xml文件中黄色语句下划线去除"></a>Mapper.xml文件中黄色语句下划线去除</h2><p><a href="https://blog.csdn.net/weixin_46621774/article/details/130970067">idea项目mapper.xml中的SQL语句黄色下划线去除</a></p><p>取消勾选：<code>Editor</code>-&gt;<code>Inspections</code></p><p><code>No data sources configured</code> 和 <code>SQL dialect detection</code></p><p><img src="/38938/Snipaste_2025-06-24_14-16-27.png"></p><h2 id="Idea的全局设置（非项目设置）"><a href="#Idea的全局设置（非项目设置）" class="headerlink" title="Idea的全局设置（非项目设置）"></a>Idea的全局设置（非项目设置）</h2><blockquote><p>全局设置对所有项目都生效</p></blockquote><p><img src="/38938/pic/Snipaste_2025-08-05_14-52-24.png"></p><h2 id="IDEA类和方法注释模板设置"><a href="#IDEA类和方法注释模板设置" class="headerlink" title="IDEA类和方法注释模板设置"></a>IDEA类和方法注释模板设置</h2><p><a href="https://blog.csdn.net/yy12345_6_/article/details/123830038">参考博客</a></p><p>类注释模板</p><blockquote><p>Idea开发工具中创建类class文件时,自动在类名上添加自定义注解</p></blockquote><p>类注解模板</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line">*@BelongsProject: $&#123;PROJECT_NAME&#125;</span><br><span class="line">*@BelongsPackage: $&#123;PACKAGE_NAME&#125;</span><br><span class="line">*@Author: your_name</span><br><span class="line">*@CreateTime: $&#123;YEAR&#125;-$&#123;MONTH&#125;-$&#123;DAY&#125; $&#123;HOUR&#125;:$&#123;MINUTE&#125;</span><br><span class="line">*@Description: TODO</span><br><span class="line">*@Version: 1.0</span><br><span class="line">*/</span><br></pre></td></tr></table></figure><p>效果预览</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @BelongsProject: xxx_demo</span><br><span class="line"> * @BelongsPackage: org.xxx.com</span><br><span class="line"> * @Author: your_name</span><br><span class="line"> * @CreateTime: 2025-08-05 16:01</span><br><span class="line"> * @Description: TODO</span><br><span class="line"> * @Version: 1.0</span><br><span class="line"> */</span><br><span class="line">public class demo &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考图示<br><img src="/38938/pic/Snipaste_2025-08-05_15-43-12.png"></p><p>方法注释模板</p><p>创建<code>userDefine</code>名称的<code>Template Group</code>模板组名<br><img src="/38938/pic/Snipaste_2025-08-05_15-48-54.png"></p><p>创建<code>*</code>名称的<code>Live Template</code>模板,并选择展开方式<code>Enter</code>,配置<code>Edit variables</code>对应模板</p><p>模板内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*</span><br><span class="line"> * @description:</span><br><span class="line"> * @author: your_name </span><br><span class="line"> * @date: $date$ $time$</span><br><span class="line"> * @param: $param$</span><br><span class="line"> * @return: $return$</span><br><span class="line"> **/</span><br></pre></td></tr></table></figure><p><img src="/38938/pic/Snipaste_2025-08-05_15-52-56.png"></p><p>选择应用<code>java</code>文件</p><p><img src="/38938/pic/Snipaste_2025-08-05_15-55-37.png"></p><h2 id="Idea插件推荐"><a href="#Idea插件推荐" class="headerlink" title="Idea插件推荐"></a>Idea插件推荐</h2><p><a href="https://blog.csdn.net/weixin_39559469/article/details/111213300">参考博客</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_47627102/article/details/122652790&quot;&gt;参考博客&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Idea的代码注释设置&quot;&gt;&lt;a href=&quot;#Idea的代码注释设置&quot; class=</summary>
      
    
    
    
    <category term="TODO" scheme="https://blog.wo0ow.com/categories/TODO/"/>
    
    
  </entry>
  
  <entry>
    <title>Win11远程连接提示凭据不工作解决</title>
    <link href="https://blog.wo0ow.com/4308.html"/>
    <id>https://blog.wo0ow.com/4308.html</id>
    <published>2025-05-09T01:46:26.000Z</published>
    <updated>2025-12-11T15:02:22.855Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://zhuanlan.zhihu.com/p/490961978">参考博客</a></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/win11%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E5%87%AD%E6%8D%AE%E4%B8%8D%E5%B7%A5%E4%BD%9C/20250509095120474.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/win11%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E5%87%AD%E6%8D%AE%E4%B8%8D%E5%B7%A5%E4%BD%9C/20250509095234888.png"></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TERMSRV/*</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/win11%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E5%87%AD%E6%8D%AE%E4%B8%8D%E5%B7%A5%E4%BD%9C/20250509095313045.png"></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">gpupdate /force</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/win11%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E5%87%AD%E6%8D%AE%E4%B8%8D%E5%B7%A5%E4%BD%9C/20250509095416661.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/490961978&quot;&gt;参考博客&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/win11%E8%BF</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Nginx配置代理tomcat的404错误页面</title>
    <link href="https://blog.wo0ow.com/51950.html"/>
    <id>https://blog.wo0ow.com/51950.html</id>
    <published>2025-04-07T02:50:01.000Z</published>
    <updated>2025-12-11T15:02:22.811Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/dengcao/p/18547693">404纯页面错误模板</a></p><p><a href="https://blog.csdn.net/qq_35241329/article/details/130904781">500纯页面错误模板</a></p><hr><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p>通过浏览器地址栏，直接访问Tomcat下不存在的项目报错截图</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86tomcat%E7%9A%84404%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2/20250407105757270.png"></p><p>通过配置Nginx响应Tomcat的404错误截图<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86tomcat%E7%9A%84404%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2/20250407105933511.png"></p><p>通过配置Nginx响应Tomcat的500错误截图<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86tomcat%E7%9A%84404%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2/20250407112035772.png"></p><h2 id="配置解析"><a href="#配置解析" class="headerlink" title="配置解析"></a>配置解析</h2><p>nginx中后端tomcat节点配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">    proxy_pass http://tomcat_server;</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">    </span><br><span class="line">    proxy_intercept_errors on;  # 关键配置：开启错误拦截</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>配置自定义404页面</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name example.com;</span><br><span class="line"></span><br><span class="line">    # 代理配置同上...</span><br><span class="line"></span><br><span class="line">    error_page 404 /custom_404.html;  # 定义404错误页面</span><br><span class="line"></span><br><span class="line">    location = /custom_404.html &#123;</span><br><span class="line">        root /usr/share/nginx/html;  # 自定义页面存放目录</span><br><span class="line">        internal;  # 禁止外部直接访问</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>配置自定义50x页面</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name example.com;</span><br><span class="line">    root /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line">    # 拦截所有50x错误</span><br><span class="line">    error_page 500 501 502 503 504 /custom_50x.html; </span><br><span class="line"></span><br><span class="line">    # 代理到后端服务</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://backend_server;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_intercept_errors on;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 自定义50x页面配置</span><br><span class="line">    location = /custom_50x.html &#123;</span><br><span class="line">        internal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>拓展配置</p><blockquote><p>将404页面重定向跳转首页</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">error_page 404 @redirect_home;</span><br><span class="line"></span><br><span class="line">location @redirect_home &#123;</span><br><span class="line">    return 302 /;  # 临时重定向到首页</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>检查配置重载配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./nginx -t</span><br><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/dengcao/p/18547693&quot;&gt;404纯页面错误模板&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/qq_35241329/article/details/130</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Dell服务器R540组raid1并迁移raid0的旧硬盘esxi系统</title>
    <link href="https://blog.wo0ow.com/17551.html"/>
    <id>https://blog.wo0ow.com/17551.html</id>
    <published>2025-03-26T03:05:16.000Z</published>
    <updated>2025-12-11T15:02:22.864Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>参考博客</p></blockquote><p><a href="https://blog.csdn.net/lengyer/article/details/112216150">服务器Dell R540记录一次做raid10</a></p><p><a href="http://localnetwork.cn/project-10/doc-289/">Dell 服务器R540做raid</a></p><p><a href="https://www.cnblogs.com/jcksb/p/8385289.html">Dell 服务器做raid</a></p><p><a href="https://blog.csdn.net/chentongsan/article/details/131899191">Dell R730安装系统时识别不了硬盘</a></p><p><a href="https://blog.csdn.net/weixin_44265882/article/details/117014559">dell服务器磁盘的状态变成foreign</a></p><hr><blockquote><p>TIP：当前内容中的图片来源多个博客进行整合，可能存在前后内容衔接差异问题。</p></blockquote><h2 id="Dell服务器设置R540"><a href="#Dell服务器设置R540" class="headerlink" title="Dell服务器设置R540"></a>Dell服务器设置R540</h2><h3 id="变更-Boot-Mode"><a href="#变更-Boot-Mode" class="headerlink" title="变更 Boot Mode"></a>变更 Boot Mode</h3><p>开机按<code>F2</code>进入<code>System Setup</code>菜单</p><p>选择 <strong>System BIOS</strong></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327131458288.png"></p><p>选择 <strong>Boot Setting</strong></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327131548763.png"></p><p>变更 <strong>Boot Mode</strong> 为<code>BIOS</code></p><blockquote><p>注意：后续配置<strong>raid</strong>完成后，需要恢复<code>BIOS</code>设置为<code>UEFI</code></p></blockquote><p>通过<code>Tab</code>键选择<code>Back</code>,并在上一级界面选择<code>Finish</code>保存并重启。</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327131735702.png"></p><h3 id="配置-RAID"><a href="#配置-RAID" class="headerlink" title="配置 RAID"></a>配置 RAID</h3><p>重新开机后，在当前页面按<code>Ctrl+R</code>进入<code>RAID</code>设置界面</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327131828204.png"></p><p>按<code>Ctrl+n</code>（下一页）切换到<code>PD Mgmt</code>界面查看硬盘状态是否处于<code>Ready</code></p><blockquote><p><code>Ready</code> 说明可以被设置为阵列但未配置</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327131939072.png"></p><p>按<code>Ctrl+p</code>（上一页）回到<code>VD Mgmt</code>界面，选中<code>阵列卡（图中是：PERC H730 Adapter）</code>并按下<code>F2</code>创建<code>Create New VD</code></p><blockquote><p>如果是在同一<code>RAID</code>下新增<code>VD</code>，则对应图中<code>Disk Group</code>按<code>F2</code>选择<code>Add new VD</code>即可</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327132006307.png"></p><p>选择<code>RAID-1</code>,并按<code>Tab</code>键到<code>Physical Disks</code>界面，通过<code>空格键</code>选择需要配置的硬盘（括号中标记<code>x</code>则表示已选中）</p><p>基本步骤：</p><ul><li>选择<code>RAID LEVEL</code></li><li>选择硬盘</li><li>点击<code>OK</code> （<code>VD Size</code>会默认设置容量）</li></ul><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327132032892.png"></p><p>通过<code>Tab</code>键将光标移动到刚刚配置的<code>VD</code>，然后按<code>F2</code>，选择<code>Initialization</code>并<code>Fast Init</code>进行初始化</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327132201086.png"></p><h2 id="Dell服务器迁入旧服务器系统"><a href="#Dell服务器迁入旧服务器系统" class="headerlink" title="Dell服务器迁入旧服务器系统"></a>Dell服务器迁入旧服务器系统</h2><p>开机按<code>Ctrl+R</code>进入<code>RAID</code>设置</p><p>进入<code>PD Mgmt</code>中查看硬盘状态</p><ul><li><code>foreign</code> 外来的</li><li><code>online</code> 正常的</li><li><code>missing</code> 磁盘未找到</li><li><code>failed</code> 失败</li></ul><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327132522372.png"></p><p>磁盘状态为<code>foreign</code>，在<code>VD Mgmt</code>界面下，将指标移到最上一行按<code>F2</code>，选择foreign config下的<code>Import</code></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Dell%E6%9C%8D%E5%8A%A1%E5%99%A8R540%E7%BB%84raid1%E5%B9%B6%E8%BF%81%E7%A7%BBraid0%E7%9A%84%E6%97%A7%E7%A1%AC%E7%9B%98esxi%E7%B3%BB%E7%BB%9F/20250327132556797.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;参考博客&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/lengyer/article/details/112216150&quot;&gt;服务器Dell R540记录一次做raid10&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="服务器" scheme="https://blog.wo0ow.com/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>合并加密的ts文件至mp4格式</title>
    <link href="https://blog.wo0ow.com/11524.html"/>
    <id>https://blog.wo0ow.com/11524.html</id>
    <published>2025-03-06T09:40:09.000Z</published>
    <updated>2025-12-11T15:02:22.863Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.jb51.net/article/216764.htm">Python合并ts文件至mp4格式及解密教程详解</a></p><hr><h2 id="配置ffmpeg运行环境"><a href="#配置ffmpeg运行环境" class="headerlink" title="配置ffmpeg运行环境"></a>配置ffmpeg运行环境</h2><p><a href="http://ffmpeg.org/download.html#build-windows">ffmpeg官网</a></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306174506631.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306195525376.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306195711044.png"></p><p>验证ffmpeg的环境变量配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ffmpeg -version</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306195804710.png"></p><h2 id="下载加密的ts的分片视频文件"><a href="#下载加密的ts的分片视频文件" class="headerlink" title="下载加密的ts的分片视频文件"></a>下载加密的ts的分片视频文件</h2><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306200224769.png"></p><blockquote><p>如果<code>index.m3u8</code>文件中存在<code>#EXT-X-KEY</code>则表示当前文件是加密；反之则无。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306201908319.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306202024821.png"></p><p>合并所有ts分片的视频</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ffmpeg -allowed_extensions ALL -i index.m3u8 -c copy new.mp4</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%90%88%E5%B9%B6%E5%8A%A0%E5%AF%86%E7%9A%84ts%E6%96%87%E4%BB%B6%E8%87%B3mp4%E6%A0%BC%E5%BC%8F/20250306202355270.png"></p><h2 id="java-示例代码"><a href="#java-示例代码" class="headerlink" title="java-示例代码"></a>java-示例代码</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package com.ruoyi.manman;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.net.HttpURLConnection;</span><br><span class="line">import java.net.URL;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class VideoDownloader &#123;</span><br><span class="line"></span><br><span class="line">    // https://xx.xxx.com/index.m3u8</span><br><span class="line">    // https://xx.xxx.com/enc.key</span><br><span class="line">    // https://xx.xxx.com/index0.ts</span><br><span class="line"></span><br><span class="line">    // 下载地址前缀URL</span><br><span class="line">    private static final String PREFIX_URL = &quot;https://xx.xxx.com/&quot;;</span><br><span class="line">    // 视频文件ts的前缀（完整示例：index1.ts，程序自动拼接`x.ts`,）</span><br><span class="line">    private static final String BASE_URL = PREFIX_URL + &quot;index&quot;;</span><br><span class="line">    // 视频文件的索引文件</span><br><span class="line">    private static final String INDEX_M3U8 = &quot;index.m3u8&quot;;</span><br><span class="line">    // 视频文件解密key</span><br><span class="line">    private static final String ENC_KEY = &quot;enc.key&quot;;</span><br><span class="line">    // 分片ts视频文件下载目录</span><br><span class="line">    private static final String OUTPUT_DIR = &quot;D:\\Env\\Tmp\\&quot;;</span><br><span class="line">    // 合并视频文件名</span><br><span class="line">    private static final String MERGED_FILE = &quot;xxx.mp4&quot;;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">        VideoDownloader downloader = new VideoDownloader();</span><br><span class="line">        downloader.downloadAndMergeVideos();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void convertTsToMp4(String inputFile, String outputFile) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line"></span><br><span class="line">            // ffmpeg -allowed_extensions ALL -i index.m3u8 -c copy new.mp4</span><br><span class="line">            ProcessBuilder builder = new ProcessBuilder(</span><br><span class="line">                    &quot;D:\\Env\\ffmpeg\\ffmpeg-7.0.2-essentials_build\\bin\\ffmpeg.exe&quot;,</span><br><span class="line">                    &quot;-allowed_extensions&quot;,</span><br><span class="line">                    &quot;ALL&quot;,</span><br><span class="line">                    &quot;-i&quot;,</span><br><span class="line">                    inputFile,</span><br><span class="line">                    &quot;-c&quot;,</span><br><span class="line">                    &quot;copy&quot;,</span><br><span class="line">                    outputFile</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">            // 将错误输出合并到标准输出</span><br><span class="line">            builder.redirectErrorStream(true);</span><br><span class="line">            Process process = builder.start();</span><br><span class="line"></span><br><span class="line">            // 读取输出信息</span><br><span class="line">            try (BufferedReader reader = new BufferedReader(</span><br><span class="line">                    new InputStreamReader(process.getInputStream()))) &#123;</span><br><span class="line">                String line;</span><br><span class="line">                while ((line = reader.readLine()) != null) &#123;</span><br><span class="line">                    System.out.println(line);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // 等待转换完成</span><br><span class="line">            int exitCode = process.waitFor();</span><br><span class="line">            if (exitCode == 0) &#123;</span><br><span class="line">                System.out.println(&quot;视频转换成功！&quot;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                System.out.println(&quot;视频转换失败，错误码：&quot; + exitCode);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; catch (IOException | InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void downloadAndMergeVideos() &#123;</span><br><span class="line">        List&lt;String&gt; downloadedFiles = new ArrayList&lt;&gt;();</span><br><span class="line">        int index = 0; // 起始索引</span><br><span class="line"></span><br><span class="line">        // 创建下载目录</span><br><span class="line">        new File(OUTPUT_DIR).mkdirs();</span><br><span class="line"></span><br><span class="line">        // 下载所有分片</span><br><span class="line">        while (true) &#123;</span><br><span class="line">            String url = BASE_URL + index + &quot;.ts&quot;;</span><br><span class="line">            String outputFile = OUTPUT_DIR + &quot;index&quot; + index + &quot;.ts&quot;;</span><br><span class="line"></span><br><span class="line">            if (!downloadFile(url, outputFile)) &#123;</span><br><span class="line">                break; // 如果下载失败（状态码不是200），退出循环</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            downloadedFiles.add(outputFile);</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 下载视频索引及加密key</span><br><span class="line">        downloadFile(PREFIX_URL+INDEX_M3U8, OUTPUT_DIR+INDEX_M3U8);</span><br><span class="line">        downloadFile(PREFIX_URL+ENC_KEY, OUTPUT_DIR+ENC_KEY);</span><br><span class="line"></span><br><span class="line">        // 合并文件</span><br><span class="line">        String inputFile = OUTPUT_DIR + INDEX_M3U8;</span><br><span class="line">        String outputFile = OUTPUT_DIR + MERGED_FILE;</span><br><span class="line">        convertTsToMp4(inputFile, outputFile);</span><br><span class="line"></span><br><span class="line">        // 清理临时文件</span><br><span class="line">        cleanupTempFiles(downloadedFiles);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private boolean downloadFile(String urlStr, String outputFile) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            URL url = new URL(urlStr);</span><br><span class="line">            HttpURLConnection conn = (HttpURLConnection) url.openConnection();</span><br><span class="line">            conn.setRequestMethod(&quot;GET&quot;);</span><br><span class="line"></span><br><span class="line">            if (conn.getResponseCode() != 200) &#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            try (InputStream in = conn.getInputStream();</span><br><span class="line">                 FileOutputStream out = new FileOutputStream(outputFile)) &#123;</span><br><span class="line">                byte[] buffer = new byte[4096];</span><br><span class="line">                int bytesRead;</span><br><span class="line">                while ((bytesRead = in.read(buffer)) != -1) &#123;</span><br><span class="line">                    out.write(buffer, 0, bytesRead);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return true;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void cleanupTempFiles(List&lt;String&gt; files) &#123;</span><br><span class="line">        for (String file : files) &#123;</span><br><span class="line">            new File(file).delete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.jb51.net/article/216764.htm&quot;&gt;Python合并ts文件至mp4格式及解密教程详解&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;配置ffmpeg运行环境&quot;&gt;&lt;a href=&quot;#配置ffmpeg运行环境&quot; cl</summary>
      
    
    
    
    <category term="教程集合" scheme="https://blog.wo0ow.com/categories/%E6%95%99%E7%A8%8B%E9%9B%86%E5%90%88/"/>
    
    
  </entry>
  
  <entry>
    <title>配置win笔记本远程自开机并开启加密通道</title>
    <link href="https://blog.wo0ow.com/60437.html"/>
    <id>https://blog.wo0ow.com/60437.html</id>
    <published>2025-03-06T01:15:38.000Z</published>
    <updated>2025-12-11T15:02:22.824Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/qq_15715889/article/details/141862216">openVPN客户端开机自动连接（系统启动文件夹法）</a></p><p><a href="https://blog.csdn.net/MssGuo/article/details/116245252">Windows远程桌面连接（有密码和无密码连接）</a></p><hr><p>我的使用场景是，在家里时候有时候必要情况下，可以远程公司的电脑进行远程操作（之前的操作是，电脑开机然后登录向日葵远控软件），现在的做法可以保证让电脑在需要的时候开机。</p><p>如果电脑设置了开机密码，需要输入密码登入界面后，openvpn的自启动才会执行。<br><del>尝试了设置window的计划任务，开机启动<code>openVPN</code>不生效！</del></p><p>目前方案：<code>openVPN</code>+windows（不设密码）</p><hr><h1 id="配置openVPN开机自启动"><a href="#配置openVPN开机自启动" class="headerlink" title="配置openVPN开机自启动"></a>配置openVPN开机自启动</h1><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306092610028.png"></p><p>选择当前openVPN的登录配置文件<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306103029775.png"></p><p>配置登录</p><p>鼠标右键<code>属性</code>然后配置<code>client.ovpn</code></p><blockquote><p><code>--connect client.ovpn</code> 就是需要登录openVPN的配置文件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 完整配置示例</span><br><span class="line">&quot;C:\Program Files\OpenVPN\bin\openvpn-gui.exe&quot; --connect client.ovpn</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306102905453.png"></p><p>配置开机启动<br><code>win+r</code>输入<code>shell:startup</code></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306103407972.png"></p><h1 id="配置windows自动开机"><a href="#配置windows自动开机" class="headerlink" title="配置windows自动开机"></a>配置windows自动开机</h1><blockquote><p>需要搭配小米智能插座，实现通过<code>米家</code>app远程控制电源开启</p></blockquote><p>输入<code>win+r</code>,输入<code>control</code>打开控制面板，选择<code>远程控制</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306104247151.png"></p><p>开启远程连接<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306104021187.png"></p><p>配置无密码远程访问<br>按<code>win+r</code>,输入<code>secpol.msc</code>打开<code>本地组策略管理器</code>,<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306104658204.png"></p><p>配置笔记本的接通电源自启<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E9%85%8D%E7%BD%AEwin%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%BC%80%E6%9C%BA%E5%B9%B6%E5%BC%80%E5%90%AF%E5%8A%A0%E5%AF%86%E9%80%9A%E9%81%93/20250306104956613.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/qq_15715889/article/details/141862216&quot;&gt;openVPN客户端开机自动连接（系统启动文件夹法）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.ne</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>rabbitMQ的使用基础教程</title>
    <link href="https://blog.wo0ow.com/10819.html"/>
    <id>https://blog.wo0ow.com/10819.html</id>
    <published>2025-02-12T05:48:53.000Z</published>
    <updated>2025-12-11T15:02:22.811Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/u013985664/article/details/79469773">RabbitMQ-用户以及Virtual Hosts配置</a></p><hr><h2 id="RabbitMQ的基础使用"><a href="#RabbitMQ的基础使用" class="headerlink" title="RabbitMQ的基础使用"></a>RabbitMQ的基础使用</h2><h3 id="添加用户user"><a href="#添加用户user" class="headerlink" title="添加用户user"></a>添加用户user</h3><p>新增用户<code>mquser_gouguoa</code></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212135004.png"></p><p>用户<code>mquser_gouguoa</code>已添加完成<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212135210.png"></p><h3 id="添加Virtual-Hosts虚拟路由"><a href="#添加Virtual-Hosts虚拟路由" class="headerlink" title="添加Virtual Hosts虚拟路由"></a>添加Virtual Hosts虚拟路由</h3><p>添加<code>Virtual Hosts</code></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212140946.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212140554.png"></p><p>点击需要授权的<code>vhosts</code>，用户进行授权<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212141237.png"></p><p>选择授权用户<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212141541.png"></p><p>授权完成<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212141809.png"></p><h3 id="添加Queue队列"><a href="#添加Queue队列" class="headerlink" title="添加Queue队列"></a>添加Queue队列</h3><p>创建消息队列<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212142647.png"></p><p>消息队列创建成功<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212142739.png"></p><h3 id="添加Exchange交换器"><a href="#添加Exchange交换器" class="headerlink" title="添加Exchange交换器"></a>添加Exchange交换器</h3><p>交换器中的type类型解析<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212142016.png"></p><p>添加交换器<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212142135.png"></p><p>交换器创建完成<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212142356.png"></p><p>绑定消息队列<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212142957.png"></p><p>绑定消息队列完成<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/rabbitMQ%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/20250212143212.png"></p><h2 id="RabbitMQ的使用示例"><a href="#RabbitMQ的使用示例" class="headerlink" title="RabbitMQ的使用示例"></a>RabbitMQ的使用示例</h2><h3 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h3><p><a href="https://www.cnblogs.com/xingxia/p/rabbitmq_php.html">RabbitMQ接入之PHP</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/u013985664/article/details/79469773&quot;&gt;RabbitMQ-用户以及Virtual Hosts配置&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;RabbitMQ的基础使用&quot;&gt;&lt;a h</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>vscode的remoteSSH开发模式</title>
    <link href="https://blog.wo0ow.com/348.html"/>
    <id>https://blog.wo0ow.com/348.html</id>
    <published>2025-02-11T11:21:15.000Z</published>
    <updated>2025-12-11T15:02:22.824Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://zhuanlan.zhihu.com/p/681066025">vscode 1.86版本远程ssh不兼容旧服务器问题解决</a></p><hr><p> <strong>高于<code>1.85</code>版本的<code>vscode</code>不支持部分linux服务器连接</strong></p><blockquote><p>报错提示：you are connected to an OS version that is unsupported by Visual Studio Code</p></blockquote><p>由于vscode更新到<code>1.86</code>版本后要求远程连接服务器的内核版本和库版本需要符合下面条件：<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211192530.png"></p><h2 id="安装便携版-vscode-1-85-2-版本"><a href="#安装便携版-vscode-1-85-2-版本" class="headerlink" title="安装便携版 vscode 1.85.2 版本"></a>安装便携版 vscode 1.85.2 版本</h2><p><a href="https://vscode.download.prss.microsoft.com/dbazure/download/stable/8b3775030ed1a69b13e4f4c628c612102e30a681/VSCode-win32-x64-1.85.2.zip">官方下载 - vscode_1.85.2（便携版）</a></p><h3 id="解压缩便携版vscode到安装目录，并在目录下创建data文件夹"><a href="#解压缩便携版vscode到安装目录，并在目录下创建data文件夹" class="headerlink" title="解压缩便携版vscode到安装目录，并在目录下创建data文件夹"></a>解压缩便携版vscode到安装目录，并在目录下创建<code>data</code>文件夹</h3><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211193245.png"></p><h3 id="复制vscode的配置文件到便携版目录下"><a href="#复制vscode的配置文件到便携版目录下" class="headerlink" title="复制vscode的配置文件到便携版目录下"></a>复制vscode的配置文件到便携版目录下</h3><h4 id="配置用户数据"><a href="#配置用户数据" class="headerlink" title="配置用户数据"></a>配置用户数据</h4><!-- ![](https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211193418.png) --><p><code>win+r</code>输入<code>%APPDATA%</code></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211193538.png"></p><p>在打开文件夹目录中，选择<code>Code</code>并复制到<code>便携版vscode</code>的安装目录<code>data</code>文件夹下<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211193645.png"></p><p>重命名<code>Code</code>文件夹为<code>user-data</code>文件夹<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211193729.png"></p><!-- ![](https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211193437.png) --><h4 id="配置插件数据"><a href="#配置插件数据" class="headerlink" title="配置插件数据"></a>配置插件数据</h4><p><code>win+r</code>输入<code>%USERPROFILE%\.vscode</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211194021.png"></p><p>在打开文件夹目录中，选择<code>extensions</code>并复制到<code>便携版vscode</code>的安装目录<code>data</code>文件夹下<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211194058.png"><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211194128.png"></p><h4 id="创建临时文件目录"><a href="#创建临时文件目录" class="headerlink" title="创建临时文件目录"></a>创建临时文件目录</h4><p>在<code>data</code>文件夹目录下创建<code>tmp</code>目录<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211194318.png"></p><h4 id="降级插件remote-ssh的版本"><a href="#降级插件remote-ssh的版本" class="headerlink" title="降级插件remote-ssh的版本"></a>降级插件<code>remote-ssh</code>的版本</h4><blockquote><p>注意：此截图的<code>Remote-SSH</code>的插件版本已经是降级过，由于复制的高版本的vscode的数据到便携版，部分插件是会明显的有类似<code>X</code>标识出现，点击<code>截图</code>按钮即可自动安装匹配当前版本的插件。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211194532.png"></p><h4 id="禁用vscode的自动升级"><a href="#禁用vscode的自动升级" class="headerlink" title="禁用vscode的自动升级"></a>禁用vscode的自动升级</h4><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211194951.png"></p><h4 id="vscode-降级完成"><a href="#vscode-降级完成" class="headerlink" title="vscode 降级完成"></a>vscode 降级完成</h4><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195050.png"></p><h2 id="开启远程开发模式"><a href="#开启远程开发模式" class="headerlink" title="开启远程开发模式"></a>开启远程开发模式</h2><p>启用插件<code>remote-SSH</code>远程连接<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195157.png"></p><p>选择<code>Add New SSH Host ...</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195236.png"></p><p>输入SSH连接命令<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195333.png"></p><p>选择保存ssh配置信息的文件<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195502.png"></p><p>提示配置添加成功<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195546.png"></p><p>在选择的配置文件中会添加如下连接信息：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Host 192.168.0.92</span><br><span class="line">  HostName 192.168.0.92</span><br><span class="line">  User root</span><br></pre></td></tr></table></figure><p>再次点击<code>左下角</code>的按钮，即可查看到已添加的服务器连接配置项<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195621.png"></p><p>点击连接，然后输入linux的密码（对应<code>输入SSH连接命令</code>用户的密码)<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211195936.png"></p><p>连接成功<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211200117.png"></p><p>打开远程服务器下的项目文件，即可进行远程开发<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211200207.png"></p><p>已正常打开项目截图</p><blockquote><p>注意：若远程linux服务器的git版本过低，可能在ide中不能正常进行版本管理。需要升级远程服务器的git版本。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/vscode%E7%9A%84remoteSSH%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/20250211200258.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/681066025&quot;&gt;vscode 1.86版本远程ssh不兼容旧服务器问题解决&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt; &lt;strong&gt;高于&lt;code&gt;1.85&lt;/code&gt;版本的&lt;code&gt;vscod</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>基于github搭建图床</title>
    <link href="https://blog.wo0ow.com/2300.html"/>
    <id>https://blog.wo0ow.com/2300.html</id>
    <published>2025-02-11T01:36:00.000Z</published>
    <updated>2025-12-11T15:02:21.939Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/xdnxl/article/details/129466060">如何用github搭建图床（亲测有效）</a></p><p><a href="https://blog.csdn.net/qq_21415979/article/details/121852970">GitHub + jsDelivr + Nginx + PicGo 搭建自定义域名CDN加速免费图床</a></p><p><a href="https://www.jsdelivr.com/">jsdelivr 官方地址 </a></p><hr><h2 id="创建Github的图床仓库"><a href="#创建Github的图床仓库" class="headerlink" title="创建Github的图床仓库"></a>创建Github的图床仓库</h2><p>创建一个<code>public</code>的仓库，仓库名自定义即可。</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211122613.png"></p><p>点击右上角头像，在侧边栏找到<code>setting</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211122840.png"></p><p>在打开的页面中找到<code>Developer settings</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211123112.png"></p><p>创建<code>Token</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211123305.png"></p><p>设置Token的配置信息</p><ul><li>名称</li><li>过期时间</li><li>操作范围<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211123410.png"></li></ul><h2 id="下载picGO"><a href="#下载picGO" class="headerlink" title="下载picGO"></a>下载picGO</h2><p><a href="https://mirrors.sdu.edu.cn/github-release/Molunerfinn_PicGo/v2.3.1/">PicGo v2.3.1</a></p><p>在<code>PicGo</code>中配置<code>Github</code>的图床仓库</p><blockquote><p>自定义域名，暂时可不填。后续可通过<code>jsdelivr</code>加速访问</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211124036.png"></p><p>配置完成后，可通过<code>PicGo</code>上传图片到Github仓库中<br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211124258.png"></p><h2 id="配置jsdelivr加速"><a href="#配置jsdelivr加速" class="headerlink" title="配置jsdelivr加速"></a>配置jsdelivr加速</h2><p><a href="https://www.jsdelivr.com/">jsdelivr 官网</a></p><p>通过<code>PicGo</code>上传的图片返回的访问URL地址如下：<br><code>https://raw.githubusercontent.com/ODUODUOKE/picSite/xxxx</code></p><p>可以通过<code>jsdelivr</code>进行加速访问</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211124726.png"></p><p>通过访问自己的服务器域名地址，通过nginx代理转发</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">location ^~ /cdn/ &#123;</span><br><span class="line">    proxy_pass https://cdn.jsdelivr.net/gh/github账号/图片仓库名/;</span><br><span class="line">    proxy_cache mycache;</span><br><span class="line">    expires 30d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此时，在<code>PicGo</code>中更新自定义域名地址：<code>你的域名/cdn</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211124036.png"></p><h2 id="md转微信公众号格式文档"><a href="#md转微信公众号格式文档" class="headerlink" title="md转微信公众号格式文档"></a>md转微信公众号格式文档</h2><p><a href="https://md.openwrite.cn/">openwrite</a></p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><blockquote><p>如果需要在<code>微信公众号</code>中发布文章，就不要以<code>自定义域名</code>方式访问图床。（具体原因，能力有限，暂不清楚。）</p></blockquote><p>在微信公众号中</p><ul><li>通过GitHub的链接访问图片-&gt;正常</li><li>通过Jsdelivr的加速cdn地址访问图片-&gt;正常</li><li>通过自己的域名访问图片-&gt;失败</li></ul><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211133849.png"></p><hr><p>示例图片</p><blockquote><p>自定义域名的<code>https://www.wo0ow.com/</code>在<code>微信公众号</code>图文编辑器中无法正常打开。</p></blockquote><p><code>https://www.wo0ow.com</code><br><img src="https://www.wo0ow.com/cdn/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211122613.png"></p><p><code>https://raw.githubusercontent.com</code><br><img src="https://raw.githubusercontent.com/ODUODUOKE/picSite/master/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211122613.png"></p><p><code>https://cdn.jsdelivr.net</code><br><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/%E5%9F%BA%E4%BA%8Egithub%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/20250211122613.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/xdnxl/article/details/129466060&quot;&gt;如何用github搭建图床（亲测有效）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/qq_21415979</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Vmware中取消VmwareTools分辨率自适应</title>
    <link href="https://blog.wo0ow.com/11025.html"/>
    <id>https://blog.wo0ow.com/11025.html</id>
    <published>2025-01-17T16:29:24.000Z</published>
    <updated>2025-12-11T15:02:22.003Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/asd627992512/article/details/122735820">ESXI6.7 windows虚拟机 取消Vmware Tools分辨率自适应&#x2F;固定分辨率</a></p><p>变更<code>VMwareResolutionSet.exe</code>文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;ProgramDir&gt;\VMware\VMware Tools\VMwareResolutionSet.exe</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/asd627992512/article/details/122735820&quot;&gt;ESXI6.7 windows虚拟机 取消Vmware Tools分辨率自适应&amp;#x2F;固定分辨率&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;变更&lt;c</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux下通过宝塔搭建勾股OA办公系统</title>
    <link href="https://blog.wo0ow.com/28055.html"/>
    <id>https://blog.wo0ow.com/28055.html</id>
    <published>2025-01-16T02:45:33.000Z</published>
    <updated>2025-12-11T15:02:21.694Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.gougucms.com/home/book/detail/bid/3/id/8.html">勾股OA官方文档</a></p><p><a href="https://blog.csdn.net/mfkd1000/article/details/130597263">勾股oa安装运行环境windown Nginx</a></p><p><a href="https://gitee.com/gouguopen/office">gitee开源-勾股OA系统</a></p><hr><h2 id="宝塔Linux面板安装"><a href="#宝塔Linux面板安装" class="headerlink" title="宝塔Linux面板安装"></a>宝塔Linux面板安装</h2><p><a href="https://www.bt.cn/bbs/forum.php?mod=forumdisplay&fid=36&filter=typeid&typeid=6">下载linux宝塔-9.0.0 LTS</a></p><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_10-51-51.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_10-51-51.png"></p><p><a href="https://www.bt.cn/bbs/forum.php?mod=viewthread&tid=134609&extra=page=1&filter=typeid&typeid=6">[点击跳转下载页面]宝塔Linux面板 - 9.0.0 LTS</a></p><p>安装命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">url=https://download.bt.cn/install/install_lts.sh;if [ -f /usr/bin/curl ];then curl -sSO $url;else wget -O install_lts.sh $url;fi;bash install_lts.sh ed8484bec</span><br></pre></td></tr></table></figure><p>若以上链接地址下载失败，则可尝试以下方法</p><p><a href="./Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/install_lts.sh">脚本文件_install_lts.sh</a></p><blockquote><p>安装命令：<code>bash install_lts.sh ed8484bec</code></p></blockquote><p>安装完成</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">========================面板账户登录信息==========================</span><br><span class="line"></span><br><span class="line"> 【云服务器】请在安全组放行 21959 端口</span><br><span class="line"> 外网面板地址: https://x.x.x.x:21959/4e1c0984</span><br><span class="line"> 内网面板地址: https://192.168.0.132:21959/4e1c0984</span><br><span class="line"> username: mfyqjwso</span><br><span class="line"> password: xxxxxxxx</span><br><span class="line">==================================================================</span><br></pre></td></tr></table></figure><h2 id="安装勾股OA运行环境"><a href="#安装勾股OA运行环境" class="headerlink" title="安装勾股OA运行环境"></a>安装<code>勾股OA</code>运行环境</h2><blockquote><p>我这里选择均是：<code>编译安装</code></p></blockquote><ul><li>PHP 8.0.26</li><li>MySQL 5.7.44</li><li>Nginx 1.24.0</li></ul><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_10-56-10.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_10-56-10.png"></p><h3 id="安装PHP扩展fileinfo"><a href="#安装PHP扩展fileinfo" class="headerlink" title="安装PHP扩展fileinfo"></a>安装<code>PHP</code>扩展<code>fileinfo</code></h3><blockquote><p>在PHP的编译安装完成后，点击宝塔<code>软件商店</code>中选择<code>php</code>在点击<code>设置</code></p></blockquote><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_10-59-00.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_10-59-00.png"></p><h3 id="移除禁用函数"><a href="#移除禁用函数" class="headerlink" title="移除禁用函数"></a>移除禁用函数</h3><p>如果在<code>禁用列表</code>里，移除<code>putenv</code>、<code>proc_open</code>然后退出，<code>重启php</code></p><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-04-06.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_11-04-06.png"></p><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-05-11.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_11-05-11.png"></p><h2 id="创建勾股OA数据库"><a href="#创建勾股OA数据库" class="headerlink" title="创建勾股OA数据库"></a>创建<code>勾股OA</code>数据库</h2><blockquote><p>先创建一个数据库，后续初始化时候会更新数据库结构和数据。</p></blockquote><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-06-16.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_11-06-16.png"></p><h2 id="下载勾股OA的项目文件"><a href="#下载勾股OA的项目文件" class="headerlink" title="下载勾股OA的项目文件"></a>下载<code>勾股OA</code>的项目文件</h2><h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><p>网站根目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /www/wwwroot</span><br></pre></td></tr></table></figure><p>克隆项目仓库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://gitee.com/gouguopen/office.git</span><br></pre></td></tr></table></figure><p>跳转到<code>office</code>根目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /www/wwwroot/office</span><br></pre></td></tr></table></figure><blockquote><p>设置腾讯云镜像</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">composer config -g repos.packagist composer https://mirrors.tencent.com/composer/</span><br></pre></td></tr></table></figure><p>安装PHP依赖包</p><blockquote><p>不用通过宝塔的界面去执行，直接在服务器命令行里执行更快。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">composer install</span><br></pre></td></tr></table></figure><h3 id="设置权限"><a href="#设置权限" class="headerlink" title="设置权限"></a>设置权限</h3><blockquote><p>移除权限</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chattr -i /www/wwwroot/office/.user.ini</span><br></pre></td></tr></table></figure><blockquote><p>设置目录归属和权限</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod -R 755 /www/wwwroot/office/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chown -R www:www /www/wwwroot/office/</span><br></pre></td></tr></table></figure><p>不设置，导致的报错（如图）：</p><blockquote><p>此类问题，需要开启<a href="https://blog.gougucms.com/home/book/detail/bid/3/id/77.html">debug</a>模式排查问题；</p></blockquote><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-15-00.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_11-15-00.png"></p><h2 id="添加网站配置"><a href="#添加网站配置" class="headerlink" title="添加网站配置"></a>添加网站配置</h2><p>域名</p><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-35-58.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_11-35-58.png"></p><p>网站目录</p><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-36-46.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_11-36-46.png"></p><p>伪静态</p><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-37-19.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/Snipaste_2025-01-16_11-37-19.png"></p><h2 id="访问安装"><a href="#访问安装" class="headerlink" title="访问安装"></a>访问安装</h2><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-38-53.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/20250211141000.png"></p><!-- ![](./Linux下通过宝塔搭建勾股OA办公系统/Snipaste_2025-01-16_11-40-03.png) --><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/20250211141034.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/20250211141240.png"></p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/20250211141301.png"></p><blockquote><p><strong>如果需要重新安装，则按照提示，删除安装文件</strong></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /www/wwwroot/office/config/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf install.lock</span><br></pre></td></tr></table></figure><p>登录系统成功</p><p><img src="https://cdn.jsdelivr.net/gh/ODUODUOKE/picSite/2025/Linux%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BA%E5%8B%BE%E8%82%A1OA%E5%8A%9E%E5%85%AC%E7%B3%BB%E7%BB%9F/20250211142619.png"></p><blockquote><p>可按照提示，删除安装目录</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /www/wwwroot/office/app</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf install</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.gougucms.com/home/book/detail/bid/3/id/8.html&quot;&gt;勾股OA官方文档&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/mfkd1000/article/</summary>
      
    
    
    
    <category term="开源项目" scheme="https://blog.wo0ow.com/categories/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/"/>
    
    
  </entry>
  
  <entry>
    <title>IIS解决跨域问题</title>
    <link href="https://blog.wo0ow.com/3933.html"/>
    <id>https://blog.wo0ow.com/3933.html</id>
    <published>2025-01-14T03:16:29.000Z</published>
    <updated>2025-12-11T15:02:21.959Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/unlockth/p/16073406.html">IIS 跨域访问的设置 </a></p><hr><p>设置跨域的内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Access-Control-Allow-Headers:Content-Type</span><br><span class="line">Access-Control-Allow-Methods:GET,POST,PUT,DELETE,OPTIONS</span><br><span class="line">Access-Control-Allow-Origin:*</span><br></pre></td></tr></table></figure><p>设置界面<br><img src="https://img2022.cnblogs.com/blog/771906/202203/771906-20220329191132072-937983205.png"></p><p>设置完成<br><img src="https://img2022.cnblogs.com/blog/771906/202203/771906-20220329191155613-1286888738.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/unlockth/p/16073406.html&quot;&gt;IIS 跨域访问的设置 &lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;设置跨域的内容&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Nginx配置双主模式</title>
    <link href="https://blog.wo0ow.com/26338.html"/>
    <id>https://blog.wo0ow.com/26338.html</id>
    <published>2025-01-13T03:29:09.000Z</published>
    <updated>2025-12-11T15:02:22.811Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/MassiveStars/article/details/54290055">配置nginx + keepalived双主模式（双机互为主备）</a></p><p><a href="https://blog.csdn.net/weixin_52270081/article/details/118341576">Linux搭建nginx+keepalived 高可用(主备+双主模式)</a></p><p><a href="https://www.cnblogs.com/sandyflower/p/14974489.html">keepalived 学习笔记（三）vrrp包通过防火墙</a></p><hr><blockquote><p>当前博客内容仅作参考，不完善！不能作为完整的教程！待后续更新~</p></blockquote><hr><h2 id="安装keepalived"><a href="#安装keepalived" class="headerlink" title="安装keepalived"></a>安装keepalived</h2><p>安装<code>yum -y install keepalived</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum -y install keepalived</span><br></pre></td></tr></table></figure><p>启动命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service keepalived start</span><br></pre></td></tr></table></figure><p>查看<code>keepalived</code>状态</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service keepalived status</span><br></pre></td></tr></table></figure><h2 id="keepalived配置文件基础配置"><a href="#keepalived配置文件基础配置" class="headerlink" title="keepalived配置文件基础配置"></a>keepalived配置文件基础配置</h2><p>原配置文件：<code>/etc/keepalived/keepalived.conf</code></p><p>备份原配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp /etc/keepalived/keepalived.conf /etc/keepalived/keepalived.conf.bak</span><br><span class="line">vim /etc/keepalived/keepalived.conf</span><br></pre></td></tr></table></figure><ul><li>global_defs 全局模块</li><li>vrrp_instance 配置vip模块</li><li>vrrp_script 脚本模块，用来检测nginx服务</li></ul><h3 id="主备模式"><a href="#主备模式" class="headerlink" title="主备模式"></a>主备模式</h3><p>主备模式的配置文件区别：</p><ul><li>不同</li><li><ul><li>router_id</li></ul></li><li><ul><li>state</li></ul></li><li><ul><li>priority</li></ul></li><li>相同</li><li><ul><li>virtual_router_id</li></ul></li></ul><p>主nginx</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">global_defs &#123;         </span><br><span class="line">   # #机器标识，通常可设为hostname，故障发生时，邮件通知会用到。</span><br><span class="line">   router_id Nginx_01</span><br><span class="line">&#125;</span><br><span class="line">vrrp_script check_nginx &#123;</span><br><span class="line">    # 检测脚本</span><br><span class="line">    script &quot;/etc/keepalived/check_nginx.sh&quot;</span><br><span class="line">    # 每2s检测一次</span><br><span class="line">    interval 2</span><br><span class="line">    # 检测失败（脚本返回非0）则优先级 -5</span><br><span class="line">    weight -5</span><br><span class="line">    # 检测连续 2 次失败才算确定是真失败。会用weight减少优先级（1-255之间）</span><br><span class="line">    fall 3</span><br><span class="line">    # 检测 1 次成功就算成功。但不修改优先级</span><br><span class="line">    rise 2</span><br><span class="line">&#125;</span><br><span class="line">vrrp_instance VI_1 &#123;</span><br><span class="line">    # 指定instance(Initial)的初始状态， MASTER 或者BACKUP</span><br><span class="line">    state MASTER</span><br><span class="line">    # 实例绑定的网卡，因为在配置虚拟IP的时候必须是在已有的网卡上添加的，(注意自己系统，我的默认是ens33,有的是eth0)</span><br><span class="line">    interface ens33</span><br><span class="line">    # 发送多播数据包时的源IP地址</span><br><span class="line">    virtual_router_id 51</span><br><span class="line">    # 设置本节点的优先级，优先级高的为master（1-255）</span><br><span class="line">    priority 150</span><br><span class="line">    # 检查间隔，默认为1秒。这就是VRRP的定时器，MASTER每隔这样一个时间间隔，就会发送一个advertisement报文以通知组内其他路由器自己工作正常</span><br><span class="line">    advert_int 1</span><br><span class="line">    # 定义认证方式和密码，主从必须一样</span><br><span class="line">    authentication &#123;</span><br><span class="line">        auth_type PASS</span><br><span class="line">        auth_pass 1111</span><br><span class="line">    &#125;</span><br><span class="line">    # 这里设置的就是VIP，也就是虚拟IP地址，他随着state的变化而增加删除，当state为master的时候就添加，当state为backup的时候删除，这里主要是有优先级来决定的，和state设置的值没有多大关系，这里可以设置多个IP地址</span><br><span class="line">    virtual_ipaddress &#123;</span><br><span class="line">     192.168.200.200</span><br><span class="line">    &#125;</span><br><span class="line">    # 引用VRRP脚本，即在 vrrp_script 部分指定的名字。定期运行它们来改变优先级，并最终引发主备切换</span><br><span class="line">    track_script &#123;</span><br><span class="line">    check_nginx</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>备nginx</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">global_defs &#123;               </span><br><span class="line">   router_id Nginx_02</span><br><span class="line">&#125;</span><br><span class="line">vrrp_script check_nginx &#123;</span><br><span class="line">script &quot;/etc/keepalived/check_nginx.sh&quot;</span><br><span class="line">interval 2</span><br><span class="line">    weight -5</span><br><span class="line">    fall 3</span><br><span class="line">    rise 2</span><br><span class="line">&#125;</span><br><span class="line">vrrp_instance VI_1 &#123;</span><br><span class="line">    state BACKUP</span><br><span class="line">    interface ens33</span><br><span class="line">    virtual_router_id 51</span><br><span class="line">    priority 100</span><br><span class="line">    advert_int 1</span><br><span class="line">    authentication &#123;</span><br><span class="line">        auth_type PASS</span><br><span class="line">        auth_pass 1111</span><br><span class="line">    &#125;</span><br><span class="line">    virtual_ipaddress &#123;</span><br><span class="line">      192.168.200.200</span><br><span class="line">    &#125;</span><br><span class="line">    track_script &#123;</span><br><span class="line">    check_nginx</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="双主模式"><a href="#双主模式" class="headerlink" title="双主模式"></a>双主模式</h3><hr><p>创建目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir -p /usr/local/keepalived/scripts/</span><br></pre></td></tr></table></figure><p>监控脚本 <code>monitor_nginx.sh</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 监控nginx进程，若nginx主进程不存在则启动nginx</span><br><span class="line"># 若5s后nginx进程还是不存在的话kill掉keepalived进程,防止nginx没运行该主机的keepalived还接管虚拟IP</span><br><span class="line">#!/bin/bash</span><br><span class="line">if [ &quot;$(ps -ef | grep &quot;nginx: master process&quot;| grep -v grep )&quot; == &quot;&quot; ]</span><br><span class="line">        then</span><br><span class="line">        /usr/local/nginx/sbin/nginx</span><br><span class="line">        sleep 5</span><br><span class="line">        if [ &quot;$(ps -ef | grep &quot;nginx: master process&quot;| grep -v grep )&quot; == &quot;&quot; ]</span><br><span class="line">        then</span><br><span class="line">                  killall keepalived</span><br><span class="line">        fi</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><code>keepalived</code>文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/keepalived/keepalived.conf</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">global_defs</span><br><span class="line">&#123;</span><br><span class="line">    notification_email</span><br><span class="line">    &#123;</span><br><span class="line">       123456@qq.com</span><br><span class="line">    &#125;</span><br><span class="line">    notification_email_from 123456@qq.com</span><br><span class="line">    smtp_server 127.0.0.1</span><br><span class="line">    stmp_connect_timeout 30</span><br><span class="line">    router_id LVS_DEVEL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vrrp_script Monitor_Nginx &#123;</span><br><span class="line">    script &quot;/usr/local/keepalived/scripts/monitor_nginx.sh&quot;</span><br><span class="line">    interval 2</span><br><span class="line">    weight 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 虚拟IP1, 本机作为Master</span><br><span class="line">vrrp_instance VI_1 &#123;</span><br><span class="line">    state MASTER</span><br><span class="line">    interface enp0s3</span><br><span class="line">    virtual_router_id 51</span><br><span class="line">    priority 100</span><br><span class="line">    advert_int 1</span><br><span class="line">    track_interface &#123;</span><br><span class="line">        enp0s3</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    authentication &#123;</span><br><span class="line">        auth_type PASS</span><br><span class="line">        auth_pass 123456</span><br><span class="line">    &#125;</span><br><span class="line">    virtual_ipaddress &#123;</span><br><span class="line">        192.168.30.51</span><br><span class="line">    &#125;i</span><br><span class="line">    track_script &#123;</span><br><span class="line">        Monitor_Nginx</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 虚拟IP2, 本机作为Backup</span><br><span class="line">vrrp_instance VI_2 &#123;</span><br><span class="line">    state BACKUP</span><br><span class="line">    interface enp0s3</span><br><span class="line">    virtual_router_id 52</span><br><span class="line">    priority 100</span><br><span class="line">    advert_int 1</span><br><span class="line">    track_interface &#123;</span><br><span class="line">        enp0s3</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    authentication &#123;</span><br><span class="line">        auth_type PASS</span><br><span class="line">        auth_pass 123456</span><br><span class="line">    &#125;</span><br><span class="line">    virtual_ipaddress &#123;</span><br><span class="line">        192.168.30.52</span><br><span class="line">    &#125;</span><br><span class="line">    track_script &#123;</span><br><span class="line">        Monitor_Nginx</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/MassiveStars/article/details/54290055&quot;&gt;配置nginx + keepalived双主模式（双机互为主备）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.c</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>WSL的Linux系统开启远程访问</title>
    <link href="https://blog.wo0ow.com/19394.html"/>
    <id>https://blog.wo0ow.com/19394.html</id>
    <published>2025-01-13T01:20:32.000Z</published>
    <updated>2025-12-11T15:02:22.825Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/tzsm11/article/details/137093575">Windows开启（WSL）Linux子系统并远程连接SSH</a></p><p><a href="https://blog.csdn.net/weixin_41471014/article/details/121620198">Ubuntu 20.04 开启 root 远程登录</a></p><p>编辑配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>修改配置</p><blockquote><p>变更<code>PermitRootLogin prohibit-password</code> 为 <code>yes</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Port 22</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">PasswordAuthentication yes</span><br><span class="line">PermitEmptyPasswords no</span><br></pre></td></tr></table></figure><p>验证配置<br><img src="/19394/Snipaste_2025-01-13_09-23-50.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/tzsm11/article/details/137093575&quot;&gt;Windows开启（WSL）Linux子系统并远程连接SSH&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux下搭建开源项目_勾股OA办公系统</title>
    <link href="https://blog.wo0ow.com/24462.html"/>
    <id>https://blog.wo0ow.com/24462.html</id>
    <published>2025-01-10T06:01:58.000Z</published>
    <updated>2025-12-11T15:02:21.636Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://gitee.com/gouguopen/office">开源项目-勾股OA办公系统</a></p><p><a href="https://blog.csdn.net/2301_79009758/article/details/137155234">Linux 系统快速安装PHP环境（新手版）</a></p><p><a href="https://www.php.net/downloads.php">PHP官方下载地址</a></p><hr><p><del><strong>注意</strong>：请参考通过宝塔搭建勾股OA开源系统，此博客内容不完善且已不再更新!</del></p><hr><p>服务器环境配置信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PHP &gt;= 8.0</span><br><span class="line">Mysql &gt;= 5.7.0 (需支持innodb引擎)  </span><br><span class="line">Apache 或 Nginx  </span><br><span class="line">PDO PHP Extension  </span><br><span class="line">MBstring PHP Extension  </span><br><span class="line">CURL PHP Extension  </span><br><span class="line">FileInfo PHP Extension</span><br><span class="line">Composer (用于管理第三方扩展包)</span><br></pre></td></tr></table></figure><h2 id="PHP环境安装"><a href="#PHP环境安装" class="headerlink" title="PHP环境安装"></a>PHP环境安装</h2><p>安装依赖</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum -y install libxml2 libxml2-devel openssl openssl-devel bzip2 bzip2-devel libcurl libcurl-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gmp gmp-devel libmcrypt libmcrypt-devel readline readline-devel libxslt libxslt-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel ncurses curl gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp-devel expat-devel xmlrpc-c xmlrpc-c-devel libicu-devel libmcrypt-devel libmemcached-devel libzip gcc-c++</span><br></pre></td></tr></table></figure><p>下载PHP</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://www.php.net/distributions/php-8.4.2.tar.gz</span><br></pre></td></tr></table></figure><p>解压</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar -zxf php-8.4.2.tar.gz -C /usr/local/</span><br></pre></td></tr></table></figure><p>编译</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /usr/local/php-8.4.2/</span><br></pre></td></tr></table></figure><p>编译命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./configure  \</span><br><span class="line">--prefix=/usr/local/php \</span><br><span class="line">--with-config-file-path=/usr/local/php/lib \</span><br><span class="line">--with-fpm-user=nginx \</span><br><span class="line">--with-fpm-group=nginx \</span><br><span class="line">--enable-fpm \</span><br><span class="line">--enable-opcache \</span><br><span class="line">--disable-debug \</span><br><span class="line">--disable-rpath \</span><br><span class="line">--enable-shared \</span><br><span class="line">--enable-mysqlnd \</span><br><span class="line">--with-mysqli=mysqlnd \</span><br><span class="line">--with-pdo-mysql=mysqlnd \</span><br><span class="line">--enable-mysqlnd-compression-support \</span><br><span class="line">--with-zlib \</span><br><span class="line">--enable-xml \</span><br><span class="line">--disable-rpath \</span><br><span class="line">--enable-bcmath \</span><br><span class="line">--enable-shmop \</span><br><span class="line">--enable-sysvsem \</span><br><span class="line">--with-curl \</span><br><span class="line">--enable-mbregex \</span><br><span class="line">--enable-mbstring \</span><br><span class="line">--enable-intl \</span><br><span class="line">--enable-ftp \</span><br><span class="line">--enable-gd \</span><br><span class="line">--enable-gd-jis-conv \</span><br><span class="line">--with-jpeg   \</span><br><span class="line">--with-freetype  \</span><br><span class="line">--with-openssl \</span><br><span class="line">--with-mhash \</span><br><span class="line">--enable-pcntl \</span><br><span class="line">--enable-sockets \</span><br><span class="line">--with-zip \</span><br><span class="line">--enable-soap \</span><br><span class="line">--with-gettext \</span><br><span class="line">--disable-fileinfo \</span><br><span class="line">--with-pear \</span><br><span class="line">--with-ldap=shared \</span><br><span class="line">--without-gdbm </span><br></pre></td></tr></table></figure><p><img src="/24462/Snipaste_2025-01-10_15-37-33.png"></p><p>安装</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>报错，无法正常安装</p></blockquote><h2 id="通过yum方式安装php环境"><a href="#通过yum方式安装php环境" class="headerlink" title="通过yum方式安装php环境"></a>通过yum方式安装php环境</h2><p><a href="https://blog.csdn.net/u010839420/article/details/114536587">【PHP】CentOS 7使用yum安装php8.0及以上版本</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install php-cli php-common php-fpm php-json php-mysqlnd php-xml php-gd php-mbstring php-zip -y</span><br></pre></td></tr></table></figure><h3 id="配置PHP-FPM"><a href="#配置PHP-FPM" class="headerlink" title="配置PHP-FPM"></a>配置PHP-FPM</h3><p><a href="https://blog.csdn.net/weixin_41380972/article/details/134692147">ERROR: [pool www] please specify user and group other than root</a></p><p><a href="https://www.oryoy.com/news/centos-xi-tong-xia-shi-yong-yum-an-zhuang-php-ji-qi-dong-pei-zhi-xiang-jie.html">CentOS系统下使用Yum安装PHP及启动配置详解</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/php-fpm.d/www.conf</span><br></pre></td></tr></table></figure><blockquote><p>如果你的系统中没有 nginx 用户，你可以使用 nobody 或创建一个新的用户专门用于运行 PHP 进程。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">user = nobody</span><br><span class="line">group = nobody</span><br><span class="line">#listen = /var/run/php-fpm/php-fpm.sock</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl status php-fpm.service</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl start php-fpm.service</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps -ef|grep php-fpm</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -tnl | grep 9000</span><br></pre></td></tr></table></figure><h2 id="Composer安装"><a href="#Composer安装" class="headerlink" title="Composer安装"></a>Composer安装</h2><p><a href="https://www.runoob.com/w3cnote/composer-install-and-usage.html">Composer 安装与使用</a></p><p>安装</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">php -r &quot;copy(&#x27;https://install.phpcomposer.com/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">php composer-setup.php</span><br></pre></td></tr></table></figure><p>配置全局调用</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mv composer.phar /usr/local/bin/composer</span><br></pre></td></tr></table></figure><h2 id="安装office依赖"><a href="#安装office依赖" class="headerlink" title="安装office依赖"></a>安装<code>office</code>依赖</h2><blockquote><p>cd <code>git clone https://gitee.com/gougucms/office.git</code>的目录下</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">composer install  </span><br></pre></td></tr></table></figure><h2 id="错误记录"><a href="#错误记录" class="headerlink" title="错误记录"></a>错误记录</h2><h3 id="安装PHP环境报错"><a href="#安装PHP环境报错" class="headerlink" title="安装PHP环境报错"></a>安装PHP环境报错</h3><h4 id="libxml-2-0-2-9-4…-no"><a href="#libxml-2-0-2-9-4…-no" class="headerlink" title="libxml-2.0 &gt;&#x3D; 2.9.4… no"></a>libxml-2.0 &gt;&#x3D; 2.9.4… no</h4><p>报错信息：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">checking for libxml-2.0 &gt;= 2.9.4... no</span><br><span class="line">configure: error: Package requirements (libxml-2.0 &gt;= 2.9.4) were not met:</span><br><span class="line"></span><br><span class="line">Requested &#x27;libxml-2.0 &gt;= 2.9.4&#x27; but version of libXML is 2.9.1</span><br><span class="line"></span><br><span class="line">Consider adjusting the PKG_CONFIG_PATH environment variable if you</span><br><span class="line">installed software in a non-standard prefix.</span><br><span class="line"></span><br><span class="line">Alternatively, you may set the environment variables LIBXML_CFLAGS</span><br><span class="line">and LIBXML_LIBS to avoid the need to call pkg-config.</span><br><span class="line">See the pkg-config man page for more details.</span><br></pre></td></tr></table></figure><p><img src="/24462/Snipaste_2025-01-10_14-19-18.png"></p><hr><p>官方地址<a href="http://xmlsoft.org/sources/">libxml2</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget http://xmlsoft.org/sources/libxml2-2.9.12.tar.gz</span><br><span class="line">tar -xzvf libxml2-2.9.12.tar.gz</span><br><span class="line">cd libxml2-2.9.12</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>设置 PKG_CONFIG_PATH 环境变量</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH</span><br></pre></td></tr></table></figure><p>设置 LIBXML_CFLAGS 和 LIBXML_LIBS 环境变量</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export LIBXML_CFLAGS=$(xml2-config --cflags)</span><br><span class="line">export LIBXML_LIBS=$(xml2-config --libs)</span><br></pre></td></tr></table></figure><p>应用环境变量</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>验证安装</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg-config --modversion libxml-2.0</span><br></pre></td></tr></table></figure><h4 id="Python-h-No-such-file-or-directory"><a href="#Python-h-No-such-file-or-directory" class="headerlink" title="Python.h: No such file or directory"></a>Python.h: No such file or directory</h4><p>报错信息：</p><p>这个错误表明在编译 libxml2 时缺少 Python 开发头文件。你需要安装 Python 开发包。以下是在不同 Linux 发行版上安装 Python 开发包的方法</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make[4]: Entering directory `/opt/php/libxml2-2.9.12/python&#x27;</span><br><span class="line">  CC       libxml.lo</span><br><span class="line">libxml.c:15:20: fatal error: Python.h: No such file or directory</span><br><span class="line"> #include &lt;Python.h&gt;</span><br><span class="line">                    ^</span><br><span class="line">compilation terminated.</span><br><span class="line">make[4]: *** [libxml.lo] Error 1</span><br><span class="line">make[4]: Leaving directory `/opt/php/libxml2-2.9.12/python&#x27;</span><br><span class="line">make[3]: *** [all-recursive] Error 1</span><br><span class="line">make[3]: Leaving directory `/opt/php/libxml2-2.9.12/python&#x27;</span><br><span class="line">make[2]: *** [all] Error 2</span><br><span class="line">make[2]: Leaving directory `/opt/php/libxml2-2.9.12/python&#x27;</span><br><span class="line">make[1]: *** [all-recursive] Error 1</span><br><span class="line">make[1]: Leaving directory `/opt/php/libxml2-2.9.12&#x27;</span><br><span class="line">make: *** [all] Error 2</span><br></pre></td></tr></table></figure><p><img src="/24462/Snipaste_2025-01-10_14-17-17.png"></p><p>CentOS&#x2F;RHEL：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo yum install python-devel</span><br><span class="line">sudo yum install python3-devel  # 如果你使用的是 Python 3</span><br></pre></td></tr></table></figure><p>Ubuntu&#x2F;Debian：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt-get install python-dev</span><br><span class="line">sudo apt-get install python3-dev  # 如果你使用的是 Python 3</span><br></pre></td></tr></table></figure><h4 id="checking-for-openssl-1-1-1…-no"><a href="#checking-for-openssl-1-1-1…-no" class="headerlink" title="checking for openssl &gt;&#x3D; 1.1.1… no"></a>checking for openssl &gt;&#x3D; 1.1.1… no</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">checking for openssl &gt;= 1.1.1... no</span><br><span class="line">configure: error: Package requirements (openssl &gt;= 1.1.1) were not met:</span><br><span class="line"></span><br><span class="line">Requested &#x27;openssl &gt;= 1.1.1&#x27; but version of OpenSSL is 1.0.2k</span><br><span class="line"></span><br><span class="line">Consider adjusting the PKG_CONFIG_PATH environment variable if you</span><br><span class="line">installed software in a non-standard prefix.</span><br><span class="line"></span><br><span class="line">Alternatively, you may set the environment variables OPENSSL_CFLAGS</span><br><span class="line">and OPENSSL_LIBS to avoid the need to call pkg-config.</span><br><span class="line">See the pkg-config man page for more details</span><br></pre></td></tr></table></figure><p><img src="/24462/Snipaste_2025-01-10_14-34-14.png"></p><p>步骤1：</p><p>博客：<a href="https://www.wo0ow.com/mblog/36981.html">Linux 下 OpenSSL1.x 版本升级 OpenSSL3.x 版本记录</a></p><p>步骤2：</p><blockquote><p>升级后，在<code>PHP</code>目录下执行<code>./configure</code>依然报错！</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export PKG_CONFIG_PATH=/usr/local/openssl_3.3/lib64/pkgconfig:$PKG_CONFIG_PATH</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg-config --modversion openssl</span><br></pre></td></tr></table></figure><h4 id="checking-for-sqlite3-3-7-7…-no"><a href="#checking-for-sqlite3-3-7-7…-no" class="headerlink" title="checking for sqlite3 &gt;&#x3D; 3.7.7… no"></a>checking for sqlite3 &gt;&#x3D; 3.7.7… no</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">checking for sqlite3 &gt;= 3.7.7... no</span><br><span class="line">configure: error: Package requirements (sqlite3 &gt;= 3.7.7) were not met:</span><br><span class="line"></span><br><span class="line">No package &#x27;sqlite3&#x27; found</span><br><span class="line"></span><br><span class="line">Consider adjusting the PKG_CONFIG_PATH environment variable if you</span><br><span class="line">installed software in a non-standard prefix.</span><br><span class="line"></span><br><span class="line">Alternatively, you may set the environment variables SQLITE_CFLAGS</span><br><span class="line">and SQLITE_LIBS to avoid the need to call pkg-config.</span><br><span class="line">See the pkg-config man page for more details.</span><br></pre></td></tr></table></figure><p>安装</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install sqlite-devel</span><br></pre></td></tr></table></figure><p>验证</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg-config --modversion sqlite3</span><br></pre></td></tr></table></figure><h4 id="checking-for-zlib-1-2-11…-no"><a href="#checking-for-zlib-1-2-11…-no" class="headerlink" title="checking for zlib &gt;&#x3D; 1.2.11… no"></a>checking for zlib &gt;&#x3D; 1.2.11… no</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">checking for zlib &gt;= 1.2.11... no</span><br><span class="line">configure: error: Package requirements (zlib &gt;= 1.2.11) were not met:</span><br><span class="line"></span><br><span class="line">Requested &#x27;zlib &gt;= 1.2.11&#x27; but version of zlib is 1.2.7</span><br><span class="line"></span><br><span class="line">Consider adjusting the PKG_CONFIG_PATH environment variable if you</span><br><span class="line">installed software in a non-standard prefix.</span><br><span class="line"></span><br><span class="line">Alternatively, you may set the environment variables ZLIB_CFLAGS</span><br><span class="line">and ZLIB_LIBS to avoid the need to call pkg-config.</span><br><span class="line">See the pkg-config man page for more details.</span><br></pre></td></tr></table></figure><p>重新安装</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget http://www.zlib.net/zlib-1.3.1.tar.gz</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg-config --modversion zlib</span><br></pre></td></tr></table></figure><h4 id="checking-for-libcurl-7-61-0…-no"><a href="#checking-for-libcurl-7-61-0…-no" class="headerlink" title="checking for libcurl &gt;&#x3D; 7.61.0… no"></a>checking for libcurl &gt;&#x3D; 7.61.0… no</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">checking for libcurl &gt;= 7.61.0... no</span><br><span class="line">configure: error: Package requirements (libcurl &gt;= 7.61.0) were not met:</span><br><span class="line"></span><br><span class="line">Requested &#x27;libcurl &gt;= 7.61.0&#x27; but version of libcurl is 7.29.0</span><br><span class="line">You may find new versions of libcurl at http://curl.haxx.se/</span><br><span class="line"></span><br><span class="line">Consider adjusting the PKG_CONFIG_PATH environment variable if you</span><br><span class="line">installed software in a non-standard prefix.</span><br><span class="line"></span><br><span class="line">Alternatively, you may set the environment variables CURL_CFLAGS</span><br><span class="line">and CURL_LIBS to avoid the need to call pkg-config.</span><br><span class="line">See the pkg-config man page for more details.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://curl.se/download/curl-7.61.0.tar.gz</span><br><span class="line">tar -xzvf curl-7.61.0.tar.gz</span><br><span class="line">cd curl-7.61.0</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg-config --modversion libcurl</span><br></pre></td></tr></table></figure><h4 id="Cannot-find-ldap-libraries-in-usr-lib-和-Cannot-find-ldap-libraries-in-usr-lib"><a href="#Cannot-find-ldap-libraries-in-usr-lib-和-Cannot-find-ldap-libraries-in-usr-lib" class="headerlink" title="Cannot find ldap libraries in &#x2F;usr&#x2F;lib. 和 Cannot find ldap libraries in &#x2F;usr&#x2F;lib."></a>Cannot find ldap libraries in &#x2F;usr&#x2F;lib. 和 Cannot find ldap libraries in &#x2F;usr&#x2F;lib.</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">configure: error: c</span><br><span class="line">configure: error: Cannot find ldap libraries in /usr/lib.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install openldap-devel</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://blog.csdn.net/github_38336924/article/details/89335061">configure: error: Cannot find ldap libraries in &#x2F;usr&#x2F;lib</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp -frp /usr/lib64/libldap* /usr/lib/</span><br></pre></td></tr></table></figure><h4 id="checking-for-oniguruma…-no"><a href="#checking-for-oniguruma…-no" class="headerlink" title="checking for oniguruma… no"></a>checking for oniguruma… no</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">checking for oniguruma... no</span><br><span class="line">configure: error: Package requirements (oniguruma) were not met:</span><br><span class="line"></span><br><span class="line">No package &#x27;oniguruma&#x27; found</span><br><span class="line"></span><br><span class="line">Consider adjusting the PKG_CONFIG_PATH environment variable if you</span><br><span class="line">installed software in a non-standard prefix.</span><br><span class="line"></span><br><span class="line">Alternatively, you may set the environment variables ONIG_CFLAGS</span><br><span class="line">and ONIG_LIBS to avoid the need to call pkg-config.</span><br><span class="line">See the pkg-config man page for more details.</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://www.cnblogs.com/wanglijun/p/12560614.html">安装PHP7.4找不到 No package ‘oniguruma’ found解决</a></p><p><a href="https://blog.csdn.net/h799710/article/details/113101458">已安装 autoconf 还是提示 .&#x2F;autogen.sh: autoreconf: not found</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo yum install -y autoconf automake libtool</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://github.com/kkos/oniguruma/archive/v6.9.4.tar.gz -O oniguruma-6.9.4.tar.gz </span><br><span class="line"></span><br><span class="line">tar -zxvf oniguruma-6.9.4.tar.gz</span><br><span class="line"></span><br><span class="line">cd oniguruma-6.9.4/</span><br><span class="line"></span><br><span class="line">./autogen.sh</span><br><span class="line"></span><br><span class="line">./configure</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h4 id="libzip-0-11-libzip-1-3-1-libzip-1-7-0…"><a href="#libzip-0-11-libzip-1-3-1-libzip-1-7-0…" class="headerlink" title="libzip &gt;&#x3D; 0.11 libzip !&#x3D; 1.3.1 libzip !&#x3D; 1.7.0…"></a>libzip &gt;&#x3D; 0.11 libzip !&#x3D; 1.3.1 libzip !&#x3D; 1.7.0…</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">checking for libzip &gt;= 0.11 libzip != 1.3.1 libzip != 1.7.0... no</span><br><span class="line">configure: error: Package requirements (libzip &gt;= 0.11 libzip != 1.3.1 libzip != 1.7.0) were not met:</span><br><span class="line"></span><br><span class="line">No package &#x27;libzip&#x27; found</span><br><span class="line">No package &#x27;libzip&#x27; found</span><br><span class="line">No package &#x27;libzip&#x27; found</span><br><span class="line"></span><br><span class="line">Consider adjusting the PKG_CONFIG_PATH environment variable if you</span><br><span class="line">installed software in a non-standard prefix.</span><br><span class="line"></span><br><span class="line">Alternatively, you may set the environment variables LIBZIP_CFLAGS</span><br><span class="line">and LIBZIP_LIBS to avoid the need to call pkg-config.</span><br><span class="line">See the pkg-config man page for more details.</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/robin_cai/article/details/118151747">报错：Package requirements (libzip ＞&#x3D; 0.11 libzip !&#x3D; 1.3.1 libzip !&#x3D; 1.7.0) were not met</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://libzip.org/download/libzip-1.3.2.tar.gz</span><br><span class="line">tar xvf libzip-1.3.2.tar.gz</span><br><span class="line">cd libzip-1.3.2</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://gitee.com/gouguopen/office&quot;&gt;开源项目-勾股OA办公系统&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/2301_79009758/article/details/137155</summary>
      
    
    
    
    <category term="开源项目" scheme="https://blog.wo0ow.com/categories/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/"/>
    
    
  </entry>
  
  <entry>
    <title>麒麟LinuxV10修改ulmit句柄数</title>
    <link href="https://blog.wo0ow.com/56689.html"/>
    <id>https://blog.wo0ow.com/56689.html</id>
    <published>2025-01-08T08:18:32.000Z</published>
    <updated>2025-12-11T15:02:22.628Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_43092290/article/details/134504638">KylinOSv10修改ulimit值</a></p><p><a href="https://blog.csdn.net/weixin_45754407/article/details/132752629">银河麒麟高级服务器操作系统（通用）修改open file默认值</a></p><p><a href="https://www.cnblogs.com/whwywzhj/p/14144349.html">linux修改文件句柄数量</a></p><hr><blockquote><p>查询麒麟系统版本信息</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nkvers</span><br></pre></td></tr></table></figure><blockquote><p>查询句柄数</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ulimit -n</span><br></pre></td></tr></table></figure><p>Linux的默认句柄数：<code>1024</code></p><h1 id="centos-6-x"><a href="#centos-6-x" class="headerlink" title="centos 6.x"></a>centos 6.x</h1><h2 id="修改句柄数（用户级）"><a href="#修改句柄数（用户级）" class="headerlink" title="修改句柄数（用户级）"></a>修改句柄数（用户级）</h2><p>编辑<code>limits.conf</code>文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/security/limits.conf</span><br></pre></td></tr></table></figure><p>增加配置</p><ul><li><code>*</code> 表示对所有用户生效</li><li><code>soft</code> 代表警告的设定，可以超过这个设定值，但是超过后会有警告</li><li><code>hard</code> 代表严格的设定，不允许超过这个设定的值</li></ul><blockquote><p>单个命令修改配置</p></blockquote><p>单个用户可用的最大进程数量(超过会警告)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &quot;* soft nofile 65535&quot;  &gt;&gt; /etc/security/limits.conf</span><br></pre></td></tr></table></figure><p>单个用户可用的最大进程数量(超过会报错)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &quot;* hard nofile 65535&quot;  &gt;&gt; /etc/security/limits.conf</span><br></pre></td></tr></table></figure><p>可打开的文件描述符的最大数(超过会警告)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &quot;* soft nproc 65535&quot;   &gt;&gt; /etc/security/limits.conf</span><br></pre></td></tr></table></figure><p>可打开的文件描述符的最大数(超过会报错)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &quot;* hard nproc 65535 &quot;  &gt;&gt; /etc/security/limits.conf</span><br></pre></td></tr></table></figure><blockquote><p>或直接添加以下配置：</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* soft nofile 65535  </span><br><span class="line">* hard nofile 65535</span><br><span class="line">* soft nproc 65535</span><br><span class="line">* hard nproc 65535</span><br></pre></td></tr></table></figure><p>重启服务器</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>查看修改是否生效</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ulimit -n</span><br></pre></td></tr></table></figure><h2 id="修改句柄数（系统级）"><a href="#修改句柄数（系统级）" class="headerlink" title="修改句柄数（系统级）"></a>修改句柄数（系统级）</h2><p>修改文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/sysctl.conf</span><br></pre></td></tr></table></figure><p>增加配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fs.file-max=65535</span><br></pre></td></tr></table></figure><blockquote><p>或通过命令直接添加</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo fs.file-max=65535 &gt;&gt; /etc/sysctl.conf</span><br></pre></td></tr></table></figure><p>重启服务器</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>查询系统级文件句柄数是否生效</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><h1 id="centos-7-x"><a href="#centos-7-x" class="headerlink" title="centos 7.x"></a>centos 7.x</h1><p><a href="https://blog.csdn.net/mao2553319/article/details/106218054">centos7设置进程文件句柄数量</a></p><p><a href="https://blog.csdn.net/weixin_34009794/article/details/92102733">centos7设置进程文件句柄数量</a></p><p><a href="https://blog.csdn.net/gzliudan/article/details/51754701">centos 7.x设置守护进程的文件数量限制</a></p><blockquote><p>注意：需单独修改某个service进程，以上博客也包含当前内容</p></blockquote><hr><p>修改文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/systemd/system.conf</span><br></pre></td></tr></table></figure><p>新增配置</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DefaultLimitCORE=infinity</span><br><span class="line">DefaultLimitNOFILE=65535</span><br><span class="line">DefaultLimitNPROC=65535</span><br></pre></td></tr></table></figure><p><strong>注意：需要-重启服务器</strong></p><hr><p>重启后，验证句柄数</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ulimit -n</span><br></pre></td></tr></table></figure><p>查询进程limit进程数限制：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /proc/YOUR-PID/limits</span><br></pre></td></tr></table></figure><blockquote><p>图例：未修改句柄数前</p></blockquote><p><img src="/56689/Snipaste_2025-01-16_22-29-45.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43092290/article/details/134504638&quot;&gt;KylinOSv10修改ulimit值&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/w</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Mysql中查询JSON格式数据</title>
    <link href="https://blog.wo0ow.com/22493.html"/>
    <id>https://blog.wo0ow.com/22493.html</id>
    <published>2024-12-30T10:59:35.000Z</published>
    <updated>2025-12-11T15:02:22.630Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/w15201128473/article/details/129726597">MYSQL 解析json数据，并且查询json数组筛选符合条件的日期</a></p><p><a href="https://blog.csdn.net/weixin_40201536/article/details/140915977">MySQL判断json数据中是否包含某个值</a></p><p><a href="https://blog.csdn.net/qq_21187515/article/details/90760337">mysql根据json字段内容作为查询条件（包括json数组），检索数据</a></p><hr><p>需求：查询条件满足<code>label=&#39;完成&#39;</code>的记录。</p><p>Mysql数据库，字段格式示例截图：<br><img src="/22493/Snipaste_2024-12-30_19-01-49.png"></p><p>字段数据格式：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[&#123;&quot;id&quot;: &quot;end1668393057508&quot;, &quot;label&quot;: &quot;完成&quot;, &quot;processor&quot;: [], &quot;process_method&quot;: &quot;&quot;&#125;]</span><br></pre></td></tr></table></figure><p>实现SQL：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">     * </span><br><span class="line">FROM</span><br><span class="line">     p_work_order_info </span><br><span class="line">WHERE</span><br><span class="line">     JSON_CONTAINS(JSON_EXTRACT(state, &quot;$[0]&quot;), &#x27;&quot;完成&quot;&#x27;, &#x27;$.label&#x27;) = 1</span><br></pre></td></tr></table></figure><p>解析：</p><p>一. 通过函数方法<code>JSON_EXTRACT(state, &quot;$[0]&quot;)</code>去解析数据格式<code>[&#123;&quot;id&quot;: &quot;end1668393057508&quot;, &quot;label&quot;: &quot;完成&quot;, &quot;processor&quot;: [], &quot;process_method&quot;: &quot;&quot;&#125;]</code>的array的json数组，取下标<code>[0]</code>的第一组匹配json数据。</p><p>二. 通过函数方法<code>JSON_CONTAINS( &lt;json数据对象&gt; , &#39;&quot;完成&quot;&#39;, &#39;$.label&#39;)</code>,匹配json中的关键字<code>label</code>并判断是否包含<code>完成</code>的字符串。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/w15201128473/article/details/129726597&quot;&gt;MYSQL 解析json数据，并且查询json数组筛选符合条件的日期&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blo</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Windows下部署安装MongoDB</title>
    <link href="https://blog.wo0ow.com/56205.html"/>
    <id>https://blog.wo0ow.com/56205.html</id>
    <published>2024-12-20T06:37:01.000Z</published>
    <updated>2025-12-11T15:02:23.309Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/TM0831/p/10606624.html">最详细的Windows平台安装MongoDB教程</a></p><p><a href="https://blog.csdn.net/hbtj_1216/article/details/120875957">MongoDB设置登录账号和密码</a></p><hr><p>从<a href="https://www.mongodb.com/try/download/community">MongoDB Community</a>下载windows安装文件</p><p><img src="/56205/Snipaste_2024-12-20_14-50-44.png"></p><p>环境变量<code>path</code>添加<code>D:\WorkSpace\db\mongoDB\bin</code></p><p><img src="/56205/Snipaste_2024-12-20_14-46-20.png"></p><p>创建目录<code>data</code>,<code>db</code>,<code>log</code></p><p><img src="/56205/Snipaste_2024-12-20_14-44-32.png"></p><p>安装服务</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mongod --dbpath D:\WorkSpace\db\mongoDB\db --logpath D:\WorkSpace\db\mongoDB\log\mongo.log -install -serviceName &quot;MongoDB&quot;</span><br></pre></td></tr></table></figure><p>验证mongoDB启动,浏览器访问：<code>http://127.0.0.1:27017/</code></p><p><img src="/56205/Snipaste_2024-12-20_14-48-11.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/TM0831/p/10606624.html&quot;&gt;最详细的Windows平台安装MongoDB教程&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/hbtj_1216/art</summary>
      
    
    
    
    <category term="技术博客" scheme="https://blog.wo0ow.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
  </entry>
  
</feed>
