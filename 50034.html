<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Linux下新磁盘挂载扩容 | Think Note</title><meta name="author" content="MUMU"><meta name="copyright" content="MUMU"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Linux挂载新硬盘"><meta property="og:type" content="article"><meta property="og:title" content="Linux下新磁盘挂载扩容"><meta property="og:url" content="https://blog.wo0ow.com/50034.html"><meta property="og:site_name" content="Think Note"><meta property="og:description" content="Linux挂载新硬盘"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://avatars.githubusercontent.com/u/124662384"><meta property="article:published_time" content="2024-03-25T01:08:42.000Z"><meta property="article:modified_time" content="2025-12-11T15:02:22.544Z"><meta property="article:author" content="MUMU"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://avatars.githubusercontent.com/u/124662384"><link rel="shortcut icon" href="/custom/favicon/favicon-256x256.png"><link rel="canonical" href="https://blog.wo0ow.com/50034.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><script>(()=>{var e={set:(e,t,a)=>{a&&(a=Date.now()+864e5*a,localStorage.setItem(e,JSON.stringify({value:t,expiry:a})))},get:e=>{var t=localStorage.getItem(e);if(t){var{value:t,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return t;localStorage.removeItem(e)}}},t=(window.btf={saveToLocal:e,getScript:(o,n={})=>new Promise((e,t)=>{const a=document.createElement("script");a.src=o,a.async=!0,Object.entries(n).forEach(([e,t])=>a.setAttribute(e,t)),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),getCSS:(o,n)=>new Promise((e,t)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),addGlobalFn:(e,t,a=!1,o=window)=>{var n;e.startsWith("pjax")||((n=o.globalFn||{})[e]=n[e]||{},a&&n[e][a])||(n[e][a||Object.keys(n[e]).length]=t,o.globalFn=n)}},()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")}),a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")},o=(btf.activateDarkMode=t,btf.activateLightMode=a,e.get("theme")),t=("dark"===o?t():"light"===o&&a(),e.get("aside-status"));void 0!==t&&document.documentElement.classList.toggle("hide-aside","hide"===t);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/content.json",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,noticeOutdate:{limitDay:90,position:"top",messagePrev:"请注意，本文发布于",messageNext:"天前，内容可能已过时。"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200,highlightFullpage:!1,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"medium_zoom",Snackbar:{chs_to_cht:"已切换为繁体中文",cht_to_chs:"已切换为简体中文",day_to_night:"已切换为深色模式",night_to_day:"已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-right"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Linux下新磁盘挂载扩容",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-12-11 23:02:22"}</script><link rel="stylesheet" href="/css/custom/head.css"><link rel="stylesheet" href="/css/custom/footer.css"><link rel="stylesheet" href="/css/custom/background.css"><link rel="stylesheet" href="/css/custom/mouse.css"><link rel="stylesheet" href="/css/custom/font.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss.xml" title="Think Note" type="application/atom+xml"></head><body><script>window.paceOptions={restartOnPushState:!1},btf.addGlobalFn("pjaxSend",()=>{Pace.restart()},"pace_restart")</script><link rel="stylesheet" href="/css/custom/pagejs/pace.css"><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://avatars.githubusercontent.com/u/124662384" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">343</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">92</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fa-hand-point-right"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" href="/starts/"><i class="fa-fw fa-solid fa-bookmark"></i><span> 书签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-user-friends"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-splotch"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Think Note</span></a><a class="nav-page-title" href="/"><span class="site-name">Linux下新磁盘挂载扩容</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fa-hand-point-right"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" href="/starts/"><i class="fa-fw fa-solid fa-bookmark"></i><span> 书签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-user-friends"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-splotch"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Linux下新磁盘挂载扩容</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-03-25T01:08:42.000Z" title="发表于 2024-03-25 09:08:42">2024-03-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-11T15:02:22.544Z" title="更新于 2025-12-11 23:02:22">2025-12-11</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>挂载新硬盘至新分区(传统方式)</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bill_wjn/article/details/106013425">linux挂载硬盘步骤（简单易用，直接上手，无废话）</a></p><hr><h2 id="查看磁盘挂载情况">查看磁盘挂载情况</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><p><img src="/50034/image.png" alt></p><h2 id="新硬盘分区">新硬盘分区</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk /dev/vdb</span><br></pre></td></tr></table></figure><blockquote><p>图片资源引用博客内容<br><img src="/50034/20200509103142218.png" alt></p></blockquote><h2 id="格式化硬盘文件类型">格式化硬盘文件类型</h2><p>给硬盘进行格式化</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkfs.xfs /dev/vdb1</span><br></pre></td></tr></table></figure><h2 id="挂载磁盘">挂载磁盘</h2><p>创建新目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir -p /usr/local/services</span><br></pre></td></tr></table></figure><p>将新分区 <code>/dev/vdb1</code> 挂载到目录下</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mount /dev/vdb1 /usr/local/services</span><br></pre></td></tr></table></figure><p>查看挂载情况</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mount</span><br></pre></td></tr></table></figure><p><img src="/50034/image%20copy%204.png" alt></p><h2 id="设置自动挂载">设置自动挂载</h2><p>获取需要挂载磁盘<code>UUID</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">blkid</span><br></pre></td></tr></table></figure><p><img src="/50034/image%20copy.png" alt></p><p>修改<code>/etc/fstab</code>文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/fstab</span><br></pre></td></tr></table></figure><p><img src="/50034/image%20copy%202.png" alt></p><p>重启</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>查看磁盘信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">df -Th</span><br></pre></td></tr></table></figure><p><img src="/50034/image%20copy%203.png" alt></p><h2 id="修改磁盘挂载为lvm卷组方式">修改磁盘挂载为<code>lvm</code>卷组方式</h2><p>**注意使用<code>pvdisplay</code>或<code>lvdisplay</code>查看有无卷组信息，当前博客是基于卷组扩容磁盘！！！ **</p><p>博客基于<code>#1</code> <code>挂载新硬盘至新分区</code>，在指定分区扩容则需如下步骤：</p><p>移除原挂载磁盘信息：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">umount /dev/vdb1</span><br></pre></td></tr></table></figure><p>注释代码配置文件中内容项：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/fstab</span><br></pre></td></tr></table></figure><p>删除原分区信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><p><img src="/50034/image%20copy%205.png" alt></p><blockquote><p>当前博客内容基于#1配置，所以需要删除原<code>/dev/vdb</code>已分区信息</p></blockquote><p><img src="/50034/image%20copy%206.png" alt></p><h1>挂载新硬盘至新分区（LVM卷组方式）</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Honnyee/article/details/111150101">Linux系统系统盘扩容，亲测可用</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_49042937/article/details/116231803">linux创建物理卷、卷组、逻辑卷以及格式化、挂载</a></p><p><s><a target="_blank" rel="noopener" href="https://blog.csdn.net/yy4545/article/details/125873011">【解决】linux磁盘扩容大全：新增磁盘、原磁盘扩容、home分区root分区扩容</a></s></p><blockquote><p>注：现在需要解锁…了，之前不需要的。</p></blockquote><hr><h2 id="创建新分区">创建新分区</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk /dev/vdb</span><br></pre></td></tr></table></figure><p>简要步骤（概览）：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">m #菜单menu选项提示</span><br><span class="line">n #创建新分区</span><br><span class="line">p #主分区 （需要确认位置、分区起始位、分区结束位）</span><br><span class="line">t #变更分区类型</span><br><span class="line">8e # 8e 对应 Linux LVM</span><br><span class="line">p #打印分区信息(已变更类型)</span><br><span class="line">w #保存退出</span><br></pre></td></tr></table></figure><p>完整步骤（详细）：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# fdisk /dev/sdb</span><br><span class="line">Welcome to fdisk (util-linux 2.23.2).</span><br><span class="line"></span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line">Device does not contain a recognized partition table</span><br><span class="line">Building a new DOS disklabel with disk identifier 0xaf2c1952.</span><br><span class="line"></span><br><span class="line">Command (m for help): m</span><br><span class="line">Command action</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition</span><br><span class="line">   g   create a new empty GPT partition table</span><br><span class="line">   G   create an IRIX (SGI) partition table</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   add a new partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   print the partition table</span><br><span class="line">   q   quit without saving changes</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition&#x27;s system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit</span><br><span class="line">   x   extra functionality (experts only)</span><br><span class="line"></span><br><span class="line">Command (m for help): n</span><br><span class="line">Partition type:</span><br><span class="line">   p   primary (0 primary, 0 extended, 4 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">Partition number (1-4, default 1): 1</span><br><span class="line">First sector (2048-41943039, default 2048): </span><br><span class="line">Using default value 2048</span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (2048-41943039, default 41943039): </span><br><span class="line">Using default value 41943039</span><br><span class="line">Partition 1 of type Linux and of size 20 GiB is set</span><br><span class="line"></span><br><span class="line">Command (m for help): p</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 21.5 GB, 21474836480 bytes, 41943040 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0xaf2c1952</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048    41943039    20970496   83  Linux</span><br><span class="line"></span><br><span class="line">Command (m for help): t</span><br><span class="line">Selected partition 1</span><br><span class="line">Hex code (type L to list all codes): 8e</span><br><span class="line">Changed type of partition &#x27;Linux&#x27; to &#x27;Linux LVM&#x27;</span><br><span class="line"></span><br><span class="line">Command (m for help): p</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 21.5 GB, 21474836480 bytes, 41943040 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0xaf2c1952</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048    41943039    20970496   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">Command (m for help): w</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line">Syncing disks.</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure><p>强制让内核重新查找分区表，否则操作需要重启才能生效</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">partprobe</span><br></pre></td></tr></table></figure><p>报错提示：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/kerrycode/p/5634981.html">Linux 执行partprobe命令时遇到Unable to open /dev/sr0 read-write (Read-only file system)</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 使用`partprobe`检查扫描指定设备`/dev/sdb`</span><br><span class="line">partprobe /dev/sdb</span><br></pre></td></tr></table></figure><h2 id="新添加硬盘支持LVM技术">新添加硬盘支持<code>LVM</code>技术</h2><p>查询已创建新分区</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Disk /dev/vdb: 300 GiB, 322122547200 bytes, 629145600 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel type: dos</span><br><span class="line">Disk identifier: 0x6f25a77b</span><br><span class="line"></span><br><span class="line">Device     Boot Start       End   Sectors  Size Id Type</span><br><span class="line">/dev/vdb1        2048 629145599 629143552  300G 8e Linux LVM</span><br></pre></td></tr></table></figure><p>创建物理卷</p><blockquote><p>创建<code>/dev/vdb</code>分区的物理券<code>/dev/vdb1</code></p></blockquote><blockquote><p>若命令<code>pvcreate</code>不存在,则需要执行<code>yum -y install lvm2</code>安装</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pvcreate /dev/vdb1</span><br></pre></td></tr></table></figure><p><img src="/50034/image%20copy%207.png" alt></p><blockquote><p>查看物理卷</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pvs</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# pvs</span><br><span class="line">  PV         VG   Fmt  Attr PSize    PFree   </span><br><span class="line">  /dev/vda2  klas lvm2 a--    98.00g    4.00m</span><br><span class="line">  /dev/vdb1       lvm2 ---  &lt;300.00g &lt;300.00g</span><br></pre></td></tr></table></figure><p>创建卷组</p><blockquote><p><code>vg1</code>是卷组名（需要新建的），<code>/dev/vdb1</code>是物理卷（上一个步骤创建的物理券）</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vgcreate vg1 /dev/vdb1</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# vgcreate vg1 /dev/vdb1 </span><br><span class="line">  Physical volume &quot;/dev/vdb1&quot; successfully created.</span><br><span class="line">  Volume group &quot;vg1&quot; successfully created</span><br></pre></td></tr></table></figure><p>查看卷组信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vgs</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# vgs</span><br><span class="line">  VG     #PV #LV #SN Attr   VSize   VFree  </span><br><span class="line">  centos   1   3   0 wz--n- &lt;59.00g      0 </span><br><span class="line">  vg1      1   0   0 wz--n- &lt;20.00g &lt;20.00g</span><br></pre></td></tr></table></figure><p>创建逻辑卷</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lvcreate -n lv1 -l 100%FREE vg1</span><br></pre></td></tr></table></figure><ul><li><code>lvcreate</code> 创建逻辑卷的命令</li><li><code>-n lv1</code> 指定逻辑卷的名称为<code>lv1</code></li><li><code>-l 100%FREE</code> 指定使用卷组 <code>vg1</code> 中所有剩余的可用空间</li><li><code>vg1</code>是卷组的名称</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# lvcreate -n lv1 -l 100%FREE vg1</span><br><span class="line">  Logical volume &quot;lv1&quot; created.</span><br></pre></td></tr></table></figure><p>查看逻辑卷信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lvs</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# lvs</span><br><span class="line">  LV   VG     Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert</span><br><span class="line">  home centos -wi-ao---- &lt;17.39g                                                    </span><br><span class="line">  root centos -wi-ao---- &lt;35.61g                                                    </span><br><span class="line">  swap centos -wi-ao----   6.00g                                                    </span><br><span class="line">  lv1  vg1    -wi-a----- &lt;20.00g</span><br></pre></td></tr></table></figure><h2 id="逻辑卷制作文件系统">逻辑卷制作文件系统</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><p><img src="/50034/image%20copy%208.png" alt></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# mkfs.xfs /dev/mapper/vg1-lv1</span><br><span class="line">meta-data=/dev/mapper/vg1-lv1    isize=512    agcount=4, agsize=1310464 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0, sparse=0</span><br><span class="line">data     =                       bsize=4096   blocks=5241856, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line">log      =internal log           bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# blkid /dev/mapper/vg1-lv1 </span><br><span class="line">/dev/mapper/vg1-lv1: UUID=&quot;9bdbd023-6ca8-4e51-aabd-fd3d3de5d641&quot; TYPE=&quot;xfs&quot;</span><br></pre></td></tr></table></figure><h2 id="磁盘挂载（重启后失效）">磁盘挂载（重启后失效）</h2><p>创建目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir /test</span><br></pre></td></tr></table></figure><p>挂载目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mount /dev/mapper/vg1-lv1 /test</span><br></pre></td></tr></table></figure><p>查看挂载情况</p><blockquote><p>忽略当前挂载磁盘容量与实际相关部分命令不符情况，仅作示例。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# df -Th</span><br><span class="line">Filesystem              Type      Size  Used Avail Use% Mounted on</span><br><span class="line">...</span><br><span class="line">/dev/mapper/vg1-lv1     xfs        20G   33M   20G   1% /test</span><br></pre></td></tr></table></figure><h2 id="磁盘挂载（永久生效）">磁盘挂载（永久生效）</h2><p>修改<code>/etc/fstab</code>文件，添加需要挂载的磁盘信息（空格隔开）。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">UUID=9bdbd023-6ca8-4e51-aabd-fd3d3de5d641 /test xfs defaults 0 0</span><br></pre></td></tr></table></figure><h2 id="重启验证挂载是否成功">重启验证挂载是否成功</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>此种方式挂载磁盘的优点是，后续需要挂载新硬盘分区就特别容易实现，且方便管理。</p><h1>扩容硬盘空间</h1><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/83340525">Linux 扩容 / 根分区(LVM+非LVM)</a></p><blockquote><p>关注博客：<code>三、CentOS7，非LVM根分区扩容步骤</code></p></blockquote><h2 id="传统扩容磁盘方式">传统扩容磁盘方式</h2><h2 id="LVM卷组扩容磁盘方式">LVM卷组扩容磁盘方式</h2><h3 id="LVM分区扩容-扩展磁盘容量">LVM分区扩容 - 扩展磁盘容量</h3><p>查看磁盘信息</p><blockquote><p>已拓展磁盘空间：20G （vmware虚拟机，拓展磁盘空间）</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Disk /dev/sdb: 42.9 GB, 42949672960 bytes, 83886080 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0xaf2c1952</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048    41943039    20970496   8e  Linux LVM</span><br></pre></td></tr></table></figure><p>创建分区</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# fdisk /dev/sdb</span><br><span class="line">Welcome to fdisk (util-linux 2.23.2).</span><br><span class="line"></span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Command (m for help): m</span><br><span class="line">Command action</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition</span><br><span class="line">   g   create a new empty GPT partition table</span><br><span class="line">   G   create an IRIX (SGI) partition table</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   add a new partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   print the partition table</span><br><span class="line">   q   quit without saving changes</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition&#x27;s system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit</span><br><span class="line">   x   extra functionality (experts only)</span><br><span class="line"></span><br><span class="line">Command (m for help): n</span><br><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">Partition number (2-4, default 2): </span><br><span class="line">First sector (41943040-83886079, default 41943040): </span><br><span class="line">Using default value 41943040</span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (41943040-83886079, default 83886079): </span><br><span class="line">Using default value 83886079</span><br><span class="line">Partition 2 of type Linux and of size 20 GiB is set</span><br><span class="line"></span><br><span class="line">Command (m for help): p</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 42.9 GB, 42949672960 bytes, 83886080 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0xaf2c1952</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048    41943039    20970496   8e  Linux LVM</span><br><span class="line">/dev/sdb2        41943040    83886079    20971520   83  Linux</span><br><span class="line"></span><br><span class="line">Command (m for help): w</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line"></span><br><span class="line">WARNING: Re-reading the partition table failed with error 16: Device or resource busy.</span><br><span class="line">The kernel still uses the old table. The new table will be used at</span><br><span class="line">the next reboot or after you run partprobe(8) or kpartx(8)</span><br><span class="line">Syncing disks.</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure><p>刷新分区并创建物理卷</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# partprobe /dev/sdb</span><br><span class="line">[root@localhost ~]# pvcreate /dev/sdb2</span><br><span class="line">  Physical volume &quot;/dev/sdb2&quot; successfully created.</span><br></pre></td></tr></table></figure><p>查看卷组信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# vgdisplay</span><br><span class="line">  --- Volume group ---</span><br><span class="line">  VG Name               vg1</span><br><span class="line">  System ID             </span><br><span class="line">  Format                lvm2</span><br><span class="line">  Metadata Areas        2</span><br><span class="line">  Metadata Sequence No  4</span><br><span class="line">  VG Access             read/write</span><br><span class="line">  VG Status             resizable</span><br><span class="line">  MAX LV                0</span><br><span class="line">  Cur LV                1</span><br><span class="line">  Open LV               1</span><br><span class="line">  Max PV                0</span><br><span class="line">  Cur PV                2</span><br><span class="line">  Act PV                2</span><br><span class="line">  VG Size               49.99 GiB</span><br><span class="line">  PE Size               4.00 MiB</span><br><span class="line">  Total PE              12798</span><br><span class="line">  Alloc PE / Size       12798 / 49.99 GiB</span><br><span class="line">  Free  PE / Size       0 / 0   </span><br><span class="line">  VG UUID               8yvHrE-6M4Y-6qNb-dunc-2gD5-vRnR-kKRfTZ</span><br><span class="line">  </span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>将物理券扩展到卷组</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# vgextend vg1 /dev/sdb2</span><br><span class="line">  Volume group &quot;vg1&quot; successfully extended</span><br></pre></td></tr></table></figure><p>扩展逻辑卷</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# lvextend -l +100%FREE /dev/mapper/vg1-lv1 </span><br><span class="line">  Size of logical volume vg1/lv1 changed from 49.99 GiB (12798 extents) to &lt;69.99 GiB (17917 extents).</span><br><span class="line">  Logical volume vg1/lv1 successfully resized.</span><br></pre></td></tr></table></figure><p>扩展文件系统（对于 xfs 文件系统）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# xfs_growfs /dev/mapper/vg1-lv1 </span><br><span class="line">meta-data=/dev/mapper/vg1-lv1    isize=512    agcount=11, agsize=1310464 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0 spinodes=0</span><br><span class="line">data     =                       bsize=4096   blocks=13105152, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line">log      =internal               bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">data blocks changed from 13105152 to 18347008</span><br></pre></td></tr></table></figure><p>查看磁盘信息（前后对照）</p><blockquote><p>拓展分区<code>/test</code>空间前磁盘空间：<code>50G</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# df -Th</span><br><span class="line">Filesystem              Type      Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                devtmpfs  3.8G     0  3.8G   0% /dev</span><br><span class="line">tmpfs                   tmpfs     3.9G     0  3.9G   0% /dev/shm</span><br><span class="line">tmpfs                   tmpfs     3.9G   12M  3.8G   1% /run</span><br><span class="line">tmpfs                   tmpfs     3.9G     0  3.9G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root xfs        36G  3.0G   33G   9% /</span><br><span class="line">/dev/sda1               xfs      1014M  194M  821M  20% /boot</span><br><span class="line">/dev/mapper/vg1-lv1     xfs        50G   33M   50G   1% /test</span><br><span class="line">/dev/mapper/centos-home xfs        18G   33M   18G   1% /home</span><br><span class="line">tmpfs                   tmpfs     781M     0  781M   0% /run/user/0</span><br></pre></td></tr></table></figure><blockquote><p>已拓展<code>/test</code>分区磁盘空间：<code>70G</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# df -Th</span><br><span class="line">Filesystem              Type      Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                devtmpfs  3.8G     0  3.8G   0% /dev</span><br><span class="line">tmpfs                   tmpfs     3.9G     0  3.9G   0% /dev/shm</span><br><span class="line">tmpfs                   tmpfs     3.9G   12M  3.8G   1% /run</span><br><span class="line">tmpfs                   tmpfs     3.9G     0  3.9G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root xfs        36G  3.0G   33G   9% /</span><br><span class="line">/dev/sda1               xfs      1014M  194M  821M  20% /boot</span><br><span class="line">/dev/mapper/vg1-lv1     xfs        70G   33M   70G   1% /test</span><br><span class="line">/dev/mapper/centos-home xfs        18G   33M   18G   1% /home</span><br><span class="line">tmpfs                   tmpfs     781M     0  781M   0% /run/user/0</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure><h3 id="LVM分区扩容-新增物理磁盘">LVM分区扩容 - 新增物理磁盘</h3><blockquote><p>vmware虚拟机，新增磁盘</p></blockquote><p>查看卷组信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# vgdisplay</span><br><span class="line">  --- Volume group ---</span><br><span class="line">  VG Name               vg1</span><br><span class="line">  System ID             </span><br><span class="line">  Format                lvm2</span><br><span class="line">  Metadata Areas        1</span><br><span class="line">  Metadata Sequence No  2</span><br><span class="line">  VG Access             read/write</span><br><span class="line">  VG Status             resizable</span><br><span class="line">  MAX LV                0</span><br><span class="line">  Cur LV                1</span><br><span class="line">  Open LV               1</span><br><span class="line">  Max PV                0</span><br><span class="line">  Cur PV                1</span><br><span class="line">  Act PV                1</span><br><span class="line">  VG Size               &lt;20.00 GiB</span><br><span class="line">  PE Size               4.00 MiB</span><br><span class="line">  Total PE              5119</span><br><span class="line">  Alloc PE / Size       5119 / &lt;20.00 GiB</span><br><span class="line">  Free  PE / Size       0 / 0   </span><br><span class="line">  VG UUID               8yvHrE-6M4Y-6qNb-dunc-2gD5-vRnR-kKRfTZ</span><br><span class="line">[root@localhost ~]# </span><br></pre></td></tr></table></figure><p>查看新添加硬盘</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# fdisk -l</span><br><span class="line">Disk /dev/sdc: 32.2 GB, 32212254720 bytes, 62914560 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br></pre></td></tr></table></figure><p>创建物理卷</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# pvcreate /dev/sdc</span><br><span class="line">  Physical volume &quot;/dev/sdc&quot; successfully created.</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure><p>将物理卷添加到现有卷组中</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# vgextend vg1 /dev/sdc</span><br><span class="line">  Volume group &quot;vg1&quot; successfully extended</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure><p>验证卷组</p><blockquote><p>新添加的物理卷：<code>Free PE / Size 7679 / &lt;30.00 GiB</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@localhost ~]#  vgdisplay vg1</span><br><span class="line">  --- Volume group ---</span><br><span class="line">  VG Name               vg1</span><br><span class="line">  System ID             </span><br><span class="line">  Format                lvm2</span><br><span class="line">  Metadata Areas        2</span><br><span class="line">  Metadata Sequence No  3</span><br><span class="line">  VG Access             read/write</span><br><span class="line">  VG Status             resizable</span><br><span class="line">  MAX LV                0</span><br><span class="line">  Cur LV                1</span><br><span class="line">  Open LV               1</span><br><span class="line">  Max PV                0</span><br><span class="line">  Cur PV                2</span><br><span class="line">  Act PV                2</span><br><span class="line">  VG Size               49.99 GiB</span><br><span class="line">  PE Size               4.00 MiB</span><br><span class="line">  Total PE              12798</span><br><span class="line">  Alloc PE / Size       5119 / &lt;20.00 GiB</span><br><span class="line">  Free  PE / Size       7679 / &lt;30.00 GiB</span><br><span class="line">  VG UUID               8yvHrE-6M4Y-6qNb-dunc-2gD5-vRnR-kKRfTZ</span><br><span class="line">   </span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure><p>扩展卷空间</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 扩展逻辑卷 </span><br><span class="line">lvextend -l +100%FREE /dev/mapper/vg1-lv1 </span><br><span class="line">  Size of logical volume vg1/lv1 changed from &lt;20.00 GiB (5119 extents) to 49.99 GiB (12798 extents).</span><br><span class="line">  Logical volume vg1/lv1 successfully resized.</span><br><span class="line"># 扩展文件系统（对于 xfs 文件系统）</span><br><span class="line">[root@localhost ~]# xfs_growfs /dev/mapper/vg1-lv1 </span><br><span class="line">meta-data=/dev/mapper/vg1-lv1    isize=512    agcount=4, agsize=1310464 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0 spinodes=0</span><br><span class="line">data     =                       bsize=4096   blocks=5241856, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line">log      =internal               bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">data blocks changed from 5241856 to 13105152</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure><p>查看磁盘信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# df -Th</span><br><span class="line">Filesystem              Type      Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                devtmpfs  3.8G     0  3.8G   0% /dev</span><br><span class="line">tmpfs                   tmpfs     3.9G     0  3.9G   0% /dev/shm</span><br><span class="line">tmpfs                   tmpfs     3.9G   12M  3.8G   1% /run</span><br><span class="line">tmpfs                   tmpfs     3.9G     0  3.9G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root xfs        36G  3.0G   33G   9% /</span><br><span class="line">/dev/sda1               xfs      1014M  194M  821M  20% /boot</span><br><span class="line">/dev/mapper/centos-home xfs        18G   33M   18G   1% /home</span><br><span class="line">/dev/mapper/vg1-lv1     xfs        50G   33M   50G   1% /test</span><br><span class="line">tmpfs                   tmpfs     781M     0  781M   0% /run/user/0</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.wo0ow.com">MUMU</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.wo0ow.com/50034.html">https://blog.wo0ow.com/50034.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.wo0ow.com" target="_blank">Think Note</a>！</span></div></div><div class="tag_share"></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/24291.html" title="hexo博客新增评论系统"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">hexo博客新增评论系统</div></div><div class="info-2"><div class="info-item-1">butterfly主题配置-添加评论系统 valine官网 leancloud官网 修改配置文件_config.butterfly.yml: comments: # Up to two comments system, the first will be shown as default # Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk use: Valine text: true # Display the comment name next to the button # lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport. # If you set it to true, the comment count will be invalid ...</div></div></div></a><a class="pagination-related" href="/17769.html" title="Linux下安装字体文件"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Linux下安装字体文件</div></div><div class="info-2"><div class="info-item-1">如何给Linux安装新的字体 上传文件至linux字体目录下 linux的字体目录：/usr/share/fonts cd /usr/share/fonts 可选择建立目录 mkdir custom 复制需要安装字体文件到字体目录下 cp /root/*.ttf /usr/share/fonts/custom 加载刷新字体 fc-cache -fv 查询已安装字体 fc-list</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">挂载新硬盘至新分区(传统方式)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%E6%83%85%E5%86%B5"><span class="toc-number">1.1.</span> <span class="toc-text">查看磁盘挂载情况</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA"><span class="toc-number">1.2.</span> <span class="toc-text">新硬盘分区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%A1%AC%E7%9B%98%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.</span> <span class="toc-text">格式化硬盘文件类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E7%A3%81%E7%9B%98"><span class="toc-number">1.4.</span> <span class="toc-text">挂载磁盘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD"><span class="toc-number">1.5.</span> <span class="toc-text">设置自动挂载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%E4%B8%BAlvm%E5%8D%B7%E7%BB%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.</span> <span class="toc-text">修改磁盘挂载为lvm卷组方式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">挂载新硬盘至新分区（LVM卷组方式）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E5%88%86%E5%8C%BA"><span class="toc-number">2.1.</span> <span class="toc-text">创建新分区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E6%B7%BB%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%94%AF%E6%8C%81LVM%E6%8A%80%E6%9C%AF"><span class="toc-number">2.2.</span> <span class="toc-text">新添加硬盘支持LVM技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%8D%B7%E5%88%B6%E4%BD%9C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.3.</span> <span class="toc-text">逻辑卷制作文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%EF%BC%88%E9%87%8D%E5%90%AF%E5%90%8E%E5%A4%B1%E6%95%88%EF%BC%89"><span class="toc-number">2.4.</span> <span class="toc-text">磁盘挂载（重启后失效）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%EF%BC%88%E6%B0%B8%E4%B9%85%E7%94%9F%E6%95%88%EF%BC%89"><span class="toc-number">2.5.</span> <span class="toc-text">磁盘挂载（永久生效）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%90%AF%E9%AA%8C%E8%AF%81%E6%8C%82%E8%BD%BD%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F"><span class="toc-number">2.6.</span> <span class="toc-text">重启验证挂载是否成功</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">扩容硬盘空间</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E6%89%A9%E5%AE%B9%E7%A3%81%E7%9B%98%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">传统扩容磁盘方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LVM%E5%8D%B7%E7%BB%84%E6%89%A9%E5%AE%B9%E7%A3%81%E7%9B%98%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.</span> <span class="toc-text">LVM卷组扩容磁盘方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#LVM%E5%88%86%E5%8C%BA%E6%89%A9%E5%AE%B9-%E6%89%A9%E5%B1%95%E7%A3%81%E7%9B%98%E5%AE%B9%E9%87%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">LVM分区扩容 - 扩展磁盘容量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LVM%E5%88%86%E5%8C%BA%E6%89%A9%E5%AE%B9-%E6%96%B0%E5%A2%9E%E7%89%A9%E7%90%86%E7%A3%81%E7%9B%98"><span class="toc-number">3.2.2.</span> <span class="toc-text">LVM分区扩容 - 新增物理磁盘</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="framework-info"></div><div class="footer_custom_text">© 2018-<script>document.write((new Date).getFullYear())</script>&nbsp;&nbsp; wo0ow.com<br><img style="width:15px;height:15px;top:3px;position:relative" src="/custom/icp/icp.png"> <a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32011402012106" target="_blank">苏公网安备 32011402012106号</a> | <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">渝ICP备 18012869号-1</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>(()=>{const n=()=>{"object"==typeof pangu?pangu.autoSpacingPage():btf.getScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})};var t=()=>{n()};btf.addGlobalFn("pjaxComplete",t,"pangu"),document.addEventListener("DOMContentLoaded",t)})()</script><div class="js-pjax"></div><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="false"></script><script defer id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>